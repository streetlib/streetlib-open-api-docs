---
openapi: 3.0.1
info:
  title: BILL API
  version: v4
  description: BILL application API version 4
paths:
  "/v4/billingModes":
    get:
      summary: get billing modes list
      tags:
      - Entities
      description: Billing modes list
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: country_code
        in: query
        required: false
        description: country code to filter relative billing modes
        schema:
          type: string
      responses:
        '200':
          description: billing modes found
          content:
            application/json:
              example:
                data:
                - id: COMPANY_IT
                  type: bill::BillingMode
                  attributes:
                    code: COMPANY_IT
                    description: Azienda, Ente o Associazione con Partita IVA
                - id: COMPANY_WW
                  type: bill::BillingMode
                  attributes:
                    code: COMPANY_WW
                    description: Azienda estera
                - id: PRIVATE_IT
                  type: bill::BillingMode
                  attributes:
                    code: PRIVATE_IT
                    description: Privato
                - id: PRIVATE_WW
                  type: bill::BillingMode
                  attributes:
                    code: PRIVATE_WW
                    description: Privato estero
                - id: PROFESSIONAL_IT
                  type: bill::BillingMode
                  attributes:
                    code: PROFESSIONAL_IT
                    description: Professionista
                - id: PERSONAL_COMPANY_IT
                  type: bill::BillingMode
                  attributes:
                    code: PERSONAL_COMPANY_IT
                    description: Impresa individuale
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 6
                  totalPages: 1
                  totalCount: 6
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/billingModes?page=1
                  next: 
                  prev: 
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      properties:
                        id:
                          type: string
                          format: uuid
                        type:
                          type: string
                        attributes:
                          type: object
                          properties:
                            code:
                              type: string
                            description:
                              type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: link to record detail
                  meta:
                    type: object
                    properties:
                      pageNumber:
                        type: object
                        properties:
                          current:
                            type: integer
                            format: int32
                            default: 1
                          previous:
                            type: integer
                            format: int32
                            nullable: true
                          next:
                            type: integer
                            format: int32
                            nullable: true
                      perPage:
                        type: integer
                        format: int32
                      totalPages:
                        type: integer
                        format: int32
                      totalCount:
                        type: integer
                        format: int32
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: link to current page
                      next:
                        type: string
                        nullable: true
                        description: link to next page
                      prev:
                        type: string
                        nullable: true
                        description: link to previous page
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_mode:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/billingProfiles":
    post:
      summary: create a billing profile
      tags:
      - Billing profiles
      description: create create a billing profile (with all related entities)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      responses:
        '201':
          description: billing profile created
          content:
            application/json:
              example:
                data:
                  id: 5aef9bda-0cf7-452d-a3a5-2d7a5ab74a29
                  type: bill::BillingProfile
                  attributes:
                    pid: 5aef9bda-0cf7-452d-a3a5-2d7a5ab74a29
                    default: true
                    label: Facilitator
                    appellation: Lu Batz
                    firstName: Lu
                    lastName: Batz
                    bornOn: '1986-07-14'
                    startedOn: '2022-12-30'
                    endedOn: 
                    phone: 
                    email: jennifer.larkin@example.net
                    recipientCode: '8474894'
                    address: 87747 Phylis Mountain
                    addressAlt: Apt. 217
                    city: West Emileburgh
                    postalCode: '26940'
                    countrySub: TO
                    countryCode: IT
                    countryEu: true
                    personalTin: GRRJAI53R16I397E
                    companyTin: 
                    billingModeCode: PRIVATE_IT
                    vatModeCode: NOT_DUE
                    withheldModeCode: AUTO
                    pensionModeCode: NONE
                    pensionInstitute: 
                    invoicingPeriodCode: QUARTERLY
                    manualInvoicing: false
                    paymentTermCode: EOM_60
                    validForPassiveInvoice: false
                    validationPassiveInvoiceErrors:
                      phone:
                      - 'Telefono : il formato non Ã¨ valido'
                    validForActiveInvoice: true
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:34Z'
                    updatedAt: '2022-12-30T08:15:34Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: 3aaa1c98-b9b9-4f1c-9abc-664d3749507c
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/430505ea-ba7b-4a50-a58d-fde70f816d10/paymentAccounts/3aaa1c98-b9b9-4f1c-9abc-664d3749507c
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/430505ea-ba7b-4a50-a58d-fde70f816d10/billingProfiles/5aef9bda-0cf7-452d-a3a5-2d7a5ab74a29
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile_cluster:create_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '406':
          description: generic error validation
          content:
            application/json:
              example:
                errors:
                - title: country_code non fornito
                  detail: Parametro country_code non fornito o lasciato vuoto
                  type: bill:accounting_info_history:make:picker:params:country_code:empty
                  status: 406
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile_cluster:create_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                billingProfile:
                  type: object
                  properties:
                    paymentAccountPid:
                      type: string
                      format: uuid
                      nullable: true
                      description: Payment account PID
                    label:
                      type: string
                      description: label for identify the profile
                    default:
                      type: boolean
                      nullable: true
                      description: specify if profile is default or not
                    submittedBy:
                      type: string
                      format: uuid
                      nullable: true
                      description: "A user/admin PID \U0001F512"
                    billingModeCode:
                      type: string
                      enum:
                      - COMPANY_IT
                      - COMPANY_WW
                      - PRIVATE_IT
                      - PRIVATE_WW
                      - PROFESSIONAL_IT
                      - PERSONAL_COMPANY_IT
                      nullable: true
                    vatModeCode:
                      type: string
                      enum:
                      - NORMAL
                      - MINIMUM
                      - NOT_DUE
                      - FORFETARIO
                      - AUTO
                      - NOT_DUE_WW
                      - NOT_DUE_5
                      - NOT_DUE_4
                      - NOT_DUE_US
                      nullable: true
                    invoicingPeriodCode:
                      type: string
                      enum:
                      - MONTHLY
                      - QUARTERLY
                      - YEARLY
                      - DISABLED
                      nullable: true
                      description: "\U0001F512"
                    withheldModeCode:
                      type: string
                      enum:
                      - NONE
                      - SIMPLE
                      - SENIOR_35
                      - JUNIOR_35
                      - AUTO
                      - WW_JUNIOR_35
                      - WW_SENIOR_35
                      - WW_4
                      - WW_8
                      - WW_10
                      - WW_15
                      - WW_0
                      - WW_5
                      - WW_12
                      - WW_30
                      - INDIVIDUAL
                      - WW_12_5
                      - WW_20
                      nullable: true
                    pensionModeCode:
                      type: string
                      enum:
                      - NONE
                      - INPS
                      - OTHER_2
                      - OTHER_4
                      nullable: true
                    paymentTermCode:
                      type: string
                      enum:
                      - EOM_30
                      - EOM_60
                      nullable: true
                      description: "\U0001F512"
                    appellation:
                      type: string
                      nullable: true
                    description: company name or person fullname
                    personalTin:
                      type: string
                      nullable: true
                      description: personal Taxpayer Identification Number
                    companyTin:
                      type: string
                      nullable: true
                      description: company Taxpayer Identification Number
                    email:
                      type: string
                      nullable: true
                    recipientCode:
                      type: string
                      nullable: true
                      description: used for IT electronic invoicing
                    phone:
                      type: string
                      nullable: true
                      format: E.164
                    address:
                      type: string
                      nullable: true
                    addressAlt:
                      type: string
                      nullable: true
                      description: additional address info
                    postalCode:
                      type: string
                      nullable: true
                    city:
                      type: string
                      nullable: true
                    countrySub:
                      type: string
                      format: ISO 3166-2
                      nullable: true
                      description: 'country subdivision code: state, province, region,
                        zone...'
                    countryCode:
                      type: string
                      format: ISO 3166-1 alpha-2
                    firstName:
                      type: string
                      nullable: true
                    lastName:
                      type: string
                      nullable: true
                    bornOn:
                      type: string
                      format: date
                      nullable: true
                    pensionInstitute:
                      type: string
                      nullable: true
                    manualInvoicing:
                      type: boolean
                      nullable: true
                      description: "\U0001F512"
                  required:
                  - label
                  - countryCode
    get:
      summary: get billing profiles list
      tags:
      - Billing profiles
      description: Billing profiles list
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: paymentAccountPid
        in: query
        required: false
        description: filter list by Payment Account
        schema:
          type: string
          format: uuid
      - name: page
        in: query
        required: false
        description: page to display
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: per_page
        in: query
        required: false
        description: items per page
        schema:
          type: integer
          default: 10
          maximum: 100
      responses:
        '200':
          description: billing profiles found
          content:
            application/json:
              example:
                data:
                - id: 2c9861c9-9b93-45f4-9295-fda8c3787187
                  type: bill::BillingProfile
                  attributes:
                    pid: 2c9861c9-9b93-45f4-9295-fda8c3787187
                    default: false
                    label: Voluptate quam dolores dolor.
                    appellation: 
                    firstName: 
                    lastName: 
                    bornOn: 
                    startedOn: 
                    endedOn: 
                    phone: 
                    email: 
                    recipientCode: 
                    address: 
                    addressAlt: 
                    city: 
                    postalCode: 
                    countrySub: 
                    countryCode: 
                    countryEu: 
                    personalTin: 
                    companyTin: 
                    billingModeCode: 
                    vatModeCode: 
                    withheldModeCode: 
                    pensionModeCode: 
                    pensionInstitute: 
                    invoicingPeriodCode: 
                    manualInvoicing: 
                    paymentTermCode: 
                    validForPassiveInvoice: 
                    validationPassiveInvoiceErrors: 
                    validForActiveInvoice: 
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:36Z'
                    updatedAt: '2022-12-30T08:15:36Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: 74fefde3-cc1b-4e49-8b41-0771132930b2
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/paymentAccounts/74fefde3-cc1b-4e49-8b41-0771132930b2
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/billingProfiles/2c9861c9-9b93-45f4-9295-fda8c3787187
                - id: ac4bc6f2-c672-4ae1-ba74-8ff483b42885
                  type: bill::BillingProfile
                  attributes:
                    pid: ac4bc6f2-c672-4ae1-ba74-8ff483b42885
                    default: true
                    label: Laudantium ut amet laboriosam.
                    appellation: Stroman and Sons
                    firstName: Rey
                    lastName: Von
                    bornOn: '1979-06-18'
                    startedOn: '2022-08-06'
                    endedOn: 
                    phone: "+39053515572"
                    email: eldon_mayer@example.com
                    recipientCode: 
                    address: 9934 Julio Estate
                    addressAlt: 
                    city: Lake Alphonsoberg
                    postalCode: '16297'
                    countrySub: MT
                    countryCode: IT
                    countryEu: true
                    personalTin: WMXROS31S23O878R
                    companyTin: '93480924534'
                    billingModeCode: PRIVATE_IT
                    vatModeCode: FORFETARIO
                    withheldModeCode: AUTO
                    pensionModeCode: OTHER_2
                    pensionInstitute: 
                    invoicingPeriodCode: MONTHLY
                    manualInvoicing: 
                    paymentTermCode: EOM_30
                    validForPassiveInvoice: 
                    validationPassiveInvoiceErrors: 
                    validForActiveInvoice: 
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:36Z'
                    updatedAt: '2022-12-30T08:15:36Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: e30fd519-9d08-4c88-94b7-263685ba72bd
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/paymentAccounts/e30fd519-9d08-4c88-94b7-263685ba72bd
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/billingProfiles/ac4bc6f2-c672-4ae1-ba74-8ff483b42885
                - id: e292ccec-676d-4c65-9f5a-0ee6ab685257
                  type: bill::BillingProfile
                  attributes:
                    pid: e292ccec-676d-4c65-9f5a-0ee6ab685257
                    default: false
                    label: Enim aperiam est et.
                    appellation: Hilpert, Kling and Nienow
                    firstName: Manuel
                    lastName: Connelly
                    bornOn: '1990-07-08'
                    startedOn: '2022-08-19'
                    endedOn: 
                    phone: "+39096535651"
                    email: prince@example.net
                    recipientCode: 
                    address: 80949 Weston Views
                    addressAlt: 
                    city: East Merrill
                    postalCode: '48106'
                    countrySub: LC
                    countryCode: IT
                    countryEu: true
                    personalTin: FUCFQB21T16S435R
                    companyTin: '17835411061'
                    billingModeCode: PRIVATE_IT
                    vatModeCode: NORMAL
                    withheldModeCode: WW_20
                    pensionModeCode: OTHER_2
                    pensionInstitute: 
                    invoicingPeriodCode: MONTHLY
                    manualInvoicing: 
                    paymentTermCode: EOM_30
                    validForPassiveInvoice: 
                    validationPassiveInvoiceErrors: 
                    validForActiveInvoice: 
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:36Z'
                    updatedAt: '2022-12-30T08:15:36Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: 2bc3d000-cf91-422f-9364-8b6217adf412
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/paymentAccounts/2bc3d000-cf91-422f-9364-8b6217adf412
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/billingProfiles/e292ccec-676d-4c65-9f5a-0ee6ab685257
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 10
                  totalPages: 1
                  totalCount: 3
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/cd1c0074-657b-42d8-89d6-28901802152d/billingProfiles?page=1
                  next: 
                  prev: 
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: customer non trovato
                  detail: customer non trovato con il parametro customer_pid (invalid)
                  type: bill:billing_profile:read_collection_chainer:customer:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/billingProfiles/{pid}":
    delete:
      summary: delete a billing profile
      tags:
      - Billing profiles
      description: delete an existing billing profile (with all related entities)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: billing profile public identifier
        schema:
          type: string
      responses:
        '204':
          description: billing profile deleted
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile_cluster:delete_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '423':
          description: locked
          content:
            application/json:
              example:
                errors:
                - title: Profilo predefinito
                  detail: Il profilo predefinito non puÃ² essere eliminato
                  type: bill:billing_profile_cluster:delete:locked_by_default
                  status: 423
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile_cluster:delete_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
    get:
      summary: get billing profile details
      tags:
      - Billing profiles
      description: Billing profile details
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: billing profile public identifier
        schema:
          type: string
      responses:
        '200':
          description: billing profile found
          content:
            application/json:
              example:
                data:
                  id: 99146a99-bb2b-4fbd-b401-e6cf1686b903
                  type: bill::BillingProfile
                  attributes:
                    pid: 99146a99-bb2b-4fbd-b401-e6cf1686b903
                    default: true
                    label: Ut maiores nihil sunt.
                    appellation: Wisozk-Toy
                    firstName: Timika
                    lastName: Parisian
                    bornOn: '1957-02-24'
                    startedOn: '2022-01-17'
                    endedOn: 
                    phone: "+39053531512"
                    email: coralie_homenick@example.net
                    recipientCode: 
                    address: 96974 Francoise Hills
                    addressAlt: Apt. 874
                    city: Maxwellbury
                    postalCode: '16156'
                    countrySub: FC
                    countryCode: IT
                    countryEu: true
                    personalTin: UWZLAG44S13U933J
                    companyTin: '44545955641'
                    billingModeCode: COMPANY_IT
                    vatModeCode: NOT_DUE_5
                    withheldModeCode: NONE
                    pensionModeCode: INPS
                    pensionInstitute: 
                    invoicingPeriodCode: QUARTERLY
                    manualInvoicing: 
                    paymentTermCode: EOM_60
                    validForPassiveInvoice: 
                    validationPassiveInvoiceErrors: 
                    validForActiveInvoice: 
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:35Z'
                    updatedAt: '2022-12-30T08:15:35Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: 112f6b4c-ea8f-4e21-9434-21770498efc6
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/980a2966-e4ce-48c4-ad8b-93142e8e7f54/paymentAccounts/112f6b4c-ea8f-4e21-9434-21770498efc6
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/980a2966-e4ce-48c4-ad8b-93142e8e7f54/billingProfiles/99146a99-bb2b-4fbd-b401-e6cf1686b903
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: billing_profile non trovato
                  detail: billing_profile non trovato con il parametro pid (invalid)
                  type: bill:billing_profile:read_element_chainer:billing_profile:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
    patch:
      summary: update a billing profile
      tags:
      - Billing profiles
      description: update an existing billing profile (with all related entities)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: billing profile public identifier
        schema:
          type: string
      responses:
        '200':
          description: billing profile updated
          content:
            application/json:
              example:
                data:
                  id: 5bf8eb40-387b-44e5-bff1-4ba1bfd719b5
                  type: bill::BillingProfile
                  attributes:
                    pid: 5bf8eb40-387b-44e5-bff1-4ba1bfd719b5
                    default: true
                    label: Producer
                    appellation: Huel LLC
                    firstName: Jason
                    lastName: Stoltenberg
                    bornOn: '1973-08-29'
                    startedOn: '2022-12-30'
                    endedOn: 
                    phone: "+15417542010"
                    email: sheldon@example.org
                    recipientCode: 
                    address: 97745 Laurine Route
                    addressAlt: Suite 402
                    city: North Moriahshire
                    postalCode: '73075'
                    countrySub: TN
                    countryCode: US
                    countryEu: false
                    personalTin: 925-12-7487
                    companyTin: 26-4155855
                    billingModeCode: COMPANY_WW
                    vatModeCode: NOT_DUE_WW
                    withheldModeCode: NONE
                    pensionModeCode: NONE
                    pensionInstitute: 
                    invoicingPeriodCode: YEARLY
                    manualInvoicing: 
                    paymentTermCode: EOM_30
                    validForPassiveInvoice: true
                    validationPassiveInvoiceErrors: 
                    validForActiveInvoice: true
                    validationActiveInvoiceErrors: 
                    createdAt: '2022-12-30T08:15:36Z'
                    updatedAt: '2022-12-30T08:15:36Z'
                  relationships:
                    paymentAccount:
                      data:
                        id: 7b640d64-735b-4094-8e49-dc11e7fd0018
                        type: bill::PaymentAccount
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/140cd8d2-cf2f-4370-8a1f-a9191a9e66f8/paymentAccounts/7b640d64-735b-4094-8e49-dc11e7fd0018
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/140cd8d2-cf2f-4370-8a1f-a9191a9e66f8/billingProfiles/5bf8eb40-387b-44e5-bff1-4ba1bfd719b5
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile_cluster:update_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile_cluster:update_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                billingProfile:
                  type: object
                  properties:
                    paymentAccountPid:
                      type: string
                      format: uuid
                      nullable: true
                      description: Payment account PID
                    label:
                      type: string
                      description: label for identify the profile
                    default:
                      type: boolean
                      nullable: true
                      description: specify if profile is default or not
                    submittedBy:
                      type: string
                      format: uuid
                      nullable: true
                      description: "A user/admin PID \U0001F512"
                    billingModeCode:
                      type: string
                      enum:
                      - COMPANY_IT
                      - COMPANY_WW
                      - PRIVATE_IT
                      - PRIVATE_WW
                      - PROFESSIONAL_IT
                      - PERSONAL_COMPANY_IT
                      nullable: true
                    vatModeCode:
                      type: string
                      enum:
                      - NORMAL
                      - MINIMUM
                      - NOT_DUE
                      - FORFETARIO
                      - AUTO
                      - NOT_DUE_WW
                      - NOT_DUE_5
                      - NOT_DUE_4
                      - NOT_DUE_US
                      nullable: true
                    invoicingPeriodCode:
                      type: string
                      enum:
                      - MONTHLY
                      - QUARTERLY
                      - YEARLY
                      - DISABLED
                      nullable: true
                      description: "\U0001F512"
                    withheldModeCode:
                      type: string
                      enum:
                      - NONE
                      - SIMPLE
                      - SENIOR_35
                      - JUNIOR_35
                      - AUTO
                      - WW_JUNIOR_35
                      - WW_SENIOR_35
                      - WW_4
                      - WW_8
                      - WW_10
                      - WW_15
                      - WW_0
                      - WW_5
                      - WW_12
                      - WW_30
                      - INDIVIDUAL
                      - WW_12_5
                      - WW_20
                      nullable: true
                    pensionModeCode:
                      type: string
                      enum:
                      - NONE
                      - INPS
                      - OTHER_2
                      - OTHER_4
                      nullable: true
                    paymentTermCode:
                      type: string
                      enum:
                      - EOM_30
                      - EOM_60
                      nullable: true
                      description: "\U0001F512"
                    appellation:
                      type: string
                      nullable: true
                    description: company name or person fullname
                    personalTin:
                      type: string
                      nullable: true
                      description: personal Taxpayer Identification Number
                    companyTin:
                      type: string
                      nullable: true
                      description: company Taxpayer Identification Number
                    email:
                      type: string
                      nullable: true
                    recipientCode:
                      type: string
                      nullable: true
                      description: used for IT electronic invoicing
                    phone:
                      type: string
                      nullable: true
                      format: E.164
                    address:
                      type: string
                      nullable: true
                    addressAlt:
                      type: string
                      nullable: true
                      description: additional address info
                    postalCode:
                      type: string
                      nullable: true
                    city:
                      type: string
                      nullable: true
                    countrySub:
                      type: string
                      format: ISO 3166-2
                      nullable: true
                      description: 'country subdivision code: state, province, region,
                        zone...'
                    countryCode:
                      type: string
                      format: ISO 3166-1 alpha-2
                    firstName:
                      type: string
                      nullable: true
                    lastName:
                      type: string
                      nullable: true
                    bornOn:
                      type: string
                      format: date
                      nullable: true
                    pensionInstitute:
                      type: string
                      nullable: true
                    manualInvoicing:
                      type: boolean
                      nullable: true
                      description: "\U0001F512"
                  required:
                  - label
                  - countryCode
  "/v4/customers/{customer_pid}/billingProfiles/{pid}/disable":
    delete:
      summary: disable a billing profile
      tags:
      - Billing profiles
      description: disable (archive) an existing billing profile (with all related
        entities)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: billing profile public identifier
        schema:
          type: string
      responses:
        '204':
          description: billing profile disabled
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile_cluster:disable_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '423':
          description: locked
          content:
            application/json:
              example:
                errors:
                - title: Profilo predefinito
                  detail: Il profilo predefinito non puÃ² essere eliminato
                  type: bill:billing_profile:disable:locked_by_default
                  status: 423
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile_cluster:disable_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/billingProfiles/{pid}/hide":
    delete:
      summary: hide a billing profile
      tags:
      - Billing profiles
      description: hide (archive) an existing billing profile (with all related entities)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: billing profile public identifier
        schema:
          type: string
      responses:
        '204':
          description: billing profile hidden
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:billing_profile_cluster:hide_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '423':
          description: locked
          content:
            application/json:
              example:
                errors:
                - title: Profilo predefinito
                  detail: Il profilo predefinito non puÃ² essere eliminato
                  type: bill:billing_profile:hide:locked_by_default
                  status: 423
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:billing_profile_cluster:hide_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/countries":
    get:
      summary: get countries list
      tags:
      - Entities
      description: Countries list
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      responses:
        '200':
          description: countries found
          content:
            application/json:
              example:
                data:
                - id: SH
                  type: bill::Country
                  attributes:
                    code: SH
                    name: Tristan da Cunha
                    eu: false
                - id: AD
                  type: bill::Country
                  attributes:
                    code: AD
                    name: Andorra
                    eu: false
                - id: AE
                  type: bill::Country
                  attributes:
                    code: AE
                    name: United Arab Emirates
                    eu: false
                - id: AF
                  type: bill::Country
                  attributes:
                    code: AF
                    name: Afghanistan
                    eu: false
                - id: AG
                  type: bill::Country
                  attributes:
                    code: AG
                    name: Antigua and Barbuda
                    eu: false
                - id: AI
                  type: bill::Country
                  attributes:
                    code: AI
                    name: Anguilla
                    eu: false
                - id: AL
                  type: bill::Country
                  attributes:
                    code: AL
                    name: Albania
                    eu: false
                - id: AM
                  type: bill::Country
                  attributes:
                    code: AM
                    name: Armenia
                    eu: false
                - id: BQ
                  type: bill::Country
                  attributes:
                    code: BQ
                    name: Netherlands Antilles
                    eu: false
                - id: AO
                  type: bill::Country
                  attributes:
                    code: AO
                    name: Angola
                    eu: false
                - id: AQ
                  type: bill::Country
                  attributes:
                    code: AQ
                    name: Antarctic Territory
                    eu: false
                - id: AR
                  type: bill::Country
                  attributes:
                    code: AR
                    name: Argentina
                    eu: false
                - id: AS
                  type: bill::Country
                  attributes:
                    code: AS
                    name: American Samoa
                    eu: false
                - id: AT
                  type: bill::Country
                  attributes:
                    code: AT
                    name: Austria
                    eu: true
                - id: AU
                  type: bill::Country
                  attributes:
                    code: AU
                    name: Australia
                    eu: false
                - id: AW
                  type: bill::Country
                  attributes:
                    code: AW
                    name: Aruba
                    eu: false
                - id: AX
                  type: bill::Country
                  attributes:
                    code: AX
                    name: Aland
                    eu: false
                - id: AZ
                  type: bill::Country
                  attributes:
                    code: AZ
                    name: Azerbaijan
                    eu: false
                - id: BA
                  type: bill::Country
                  attributes:
                    code: BA
                    name: Bosnia and Herzegovina
                    eu: false
                - id: BB
                  type: bill::Country
                  attributes:
                    code: BB
                    name: Barbados
                    eu: false
                - id: BD
                  type: bill::Country
                  attributes:
                    code: BD
                    name: Bangladesh
                    eu: false
                - id: BE
                  type: bill::Country
                  attributes:
                    code: BE
                    name: Belgium
                    eu: true
                - id: BF
                  type: bill::Country
                  attributes:
                    code: BF
                    name: Burkina Faso
                    eu: false
                - id: BG
                  type: bill::Country
                  attributes:
                    code: BG
                    name: Bulgaria
                    eu: true
                - id: BH
                  type: bill::Country
                  attributes:
                    code: BH
                    name: Bahrain
                    eu: false
                - id: BI
                  type: bill::Country
                  attributes:
                    code: BI
                    name: Burundi
                    eu: false
                - id: BJ
                  type: bill::Country
                  attributes:
                    code: BJ
                    name: Benin
                    eu: false
                - id: BM
                  type: bill::Country
                  attributes:
                    code: BM
                    name: Bermuda
                    eu: false
                - id: BN
                  type: bill::Country
                  attributes:
                    code: BN
                    name: Brunei
                    eu: false
                - id: BO
                  type: bill::Country
                  attributes:
                    code: BO
                    name: Bolivia
                    eu: false
                - id: BR
                  type: bill::Country
                  attributes:
                    code: BR
                    name: Brazil
                    eu: false
                - id: BS
                  type: bill::Country
                  attributes:
                    code: BS
                    name: Bahamas, The
                    eu: false
                - id: BT
                  type: bill::Country
                  attributes:
                    code: BT
                    name: Bhutan
                    eu: false
                - id: BV
                  type: bill::Country
                  attributes:
                    code: BV
                    name: Bouvet Island
                    eu: false
                - id: BW
                  type: bill::Country
                  attributes:
                    code: BW
                    name: Botswana
                    eu: false
                - id: BY
                  type: bill::Country
                  attributes:
                    code: BY
                    name: Belarus
                    eu: false
                - id: BZ
                  type: bill::Country
                  attributes:
                    code: BZ
                    name: Belize
                    eu: false
                - id: CA
                  type: bill::Country
                  attributes:
                    code: CA
                    name: Canada
                    eu: false
                - id: CC
                  type: bill::Country
                  attributes:
                    code: CC
                    name: Cocos (Keeling) Islands
                    eu: false
                - id: CD
                  type: bill::Country
                  attributes:
                    code: CD
                    name: "Congo, (Congo \x96 Kinshasa)"
                    eu: false
                - id: CF
                  type: bill::Country
                  attributes:
                    code: CF
                    name: Central African Republic
                    eu: false
                - id: CG
                  type: bill::Country
                  attributes:
                    code: CG
                    name: "Congo, (Congo \x96 Brazzaville)"
                    eu: false
                - id: CH
                  type: bill::Country
                  attributes:
                    code: CH
                    name: Switzerland
                    eu: false
                - id: CI
                  type: bill::Country
                  attributes:
                    code: CI
                    name: Cote d'Ivoire (Ivory Coast)
                    eu: false
                - id: CK
                  type: bill::Country
                  attributes:
                    code: CK
                    name: Cook Islands
                    eu: false
                - id: CL
                  type: bill::Country
                  attributes:
                    code: CL
                    name: Chile
                    eu: false
                - id: CM
                  type: bill::Country
                  attributes:
                    code: CM
                    name: Cameroon
                    eu: false
                - id: CN
                  type: bill::Country
                  attributes:
                    code: CN
                    name: China, People's Republic of
                    eu: false
                - id: CO
                  type: bill::Country
                  attributes:
                    code: CO
                    name: Colombia
                    eu: false
                - id: CR
                  type: bill::Country
                  attributes:
                    code: CR
                    name: Costa Rica
                    eu: false
                - id: CU
                  type: bill::Country
                  attributes:
                    code: CU
                    name: Cuba
                    eu: false
                - id: CV
                  type: bill::Country
                  attributes:
                    code: CV
                    name: Cape Verde
                    eu: false
                - id: CX
                  type: bill::Country
                  attributes:
                    code: CX
                    name: Christmas Island
                    eu: false
                - id: CY
                  type: bill::Country
                  attributes:
                    code: CY
                    name: Cyprus
                    eu: true
                - id: CZ
                  type: bill::Country
                  attributes:
                    code: CZ
                    name: Czech Republic
                    eu: true
                - id: DE
                  type: bill::Country
                  attributes:
                    code: DE
                    name: Germany
                    eu: true
                - id: DJ
                  type: bill::Country
                  attributes:
                    code: DJ
                    name: Djibouti
                    eu: false
                - id: DK
                  type: bill::Country
                  attributes:
                    code: DK
                    name: Denmark
                    eu: true
                - id: DM
                  type: bill::Country
                  attributes:
                    code: DM
                    name: Dominica
                    eu: false
                - id: DO
                  type: bill::Country
                  attributes:
                    code: DO
                    name: Dominican Republic
                    eu: false
                - id: DZ
                  type: bill::Country
                  attributes:
                    code: DZ
                    name: Algeria
                    eu: false
                - id: EC
                  type: bill::Country
                  attributes:
                    code: EC
                    name: Ecuador
                    eu: false
                - id: EE
                  type: bill::Country
                  attributes:
                    code: EE
                    name: Estonia
                    eu: true
                - id: EG
                  type: bill::Country
                  attributes:
                    code: EG
                    name: Egypt
                    eu: false
                - id: ER
                  type: bill::Country
                  attributes:
                    code: ER
                    name: Eritrea
                    eu: false
                - id: ES
                  type: bill::Country
                  attributes:
                    code: ES
                    name: Spain
                    eu: true
                - id: ET
                  type: bill::Country
                  attributes:
                    code: ET
                    name: Ethiopia
                    eu: false
                - id: FI
                  type: bill::Country
                  attributes:
                    code: FI
                    name: Finland
                    eu: true
                - id: FJ
                  type: bill::Country
                  attributes:
                    code: FJ
                    name: Fiji
                    eu: false
                - id: FK
                  type: bill::Country
                  attributes:
                    code: FK
                    name: Falkland Islands (Islas Malvinas)
                    eu: false
                - id: FM
                  type: bill::Country
                  attributes:
                    code: FM
                    name: Micronesia
                    eu: false
                - id: FO
                  type: bill::Country
                  attributes:
                    code: FO
                    name: Faroe Islands
                    eu: false
                - id: FR
                  type: bill::Country
                  attributes:
                    code: FR
                    name: France
                    eu: true
                - id: GA
                  type: bill::Country
                  attributes:
                    code: GA
                    name: Gabon
                    eu: false
                - id: GB
                  type: bill::Country
                  attributes:
                    code: GB
                    name: United Kingdom
                    eu: false
                - id: GD
                  type: bill::Country
                  attributes:
                    code: GD
                    name: Grenada
                    eu: false
                - id: GE
                  type: bill::Country
                  attributes:
                    code: GE
                    name: Georgia
                    eu: false
                - id: GF
                  type: bill::Country
                  attributes:
                    code: GF
                    name: French Guiana
                    eu: false
                - id: GG
                  type: bill::Country
                  attributes:
                    code: GG
                    name: Guernsey
                    eu: false
                - id: GH
                  type: bill::Country
                  attributes:
                    code: GH
                    name: Ghana
                    eu: false
                - id: GI
                  type: bill::Country
                  attributes:
                    code: GI
                    name: Gibraltar
                    eu: false
                - id: GL
                  type: bill::Country
                  attributes:
                    code: GL
                    name: Greenland
                    eu: false
                - id: GM
                  type: bill::Country
                  attributes:
                    code: GM
                    name: Gambia, The
                    eu: false
                - id: GN
                  type: bill::Country
                  attributes:
                    code: GN
                    name: Guinea
                    eu: false
                - id: GP
                  type: bill::Country
                  attributes:
                    code: GP
                    name: Guadeloupe
                    eu: false
                - id: GQ
                  type: bill::Country
                  attributes:
                    code: GQ
                    name: Equatorial Guinea
                    eu: false
                - id: GR
                  type: bill::Country
                  attributes:
                    code: GR
                    name: Greece
                    eu: true
                - id: GS
                  type: bill::Country
                  attributes:
                    code: GS
                    name: South Georgia & South Sandwich Islands
                    eu: false
                - id: GT
                  type: bill::Country
                  attributes:
                    code: GT
                    name: Guatemala
                    eu: false
                - id: GU
                  type: bill::Country
                  attributes:
                    code: GU
                    name: Guam
                    eu: false
                - id: GW
                  type: bill::Country
                  attributes:
                    code: GW
                    name: Guinea-Bissau
                    eu: false
                - id: GY
                  type: bill::Country
                  attributes:
                    code: GY
                    name: Guyana
                    eu: false
                - id: HK
                  type: bill::Country
                  attributes:
                    code: HK
                    name: Hong Kong
                    eu: false
                - id: HM
                  type: bill::Country
                  attributes:
                    code: HM
                    name: Heard Island and McDonald Islands
                    eu: false
                - id: HN
                  type: bill::Country
                  attributes:
                    code: HN
                    name: Honduras
                    eu: false
                - id: HR
                  type: bill::Country
                  attributes:
                    code: HR
                    name: Croatia
                    eu: true
                - id: HT
                  type: bill::Country
                  attributes:
                    code: HT
                    name: Haiti
                    eu: false
                - id: HU
                  type: bill::Country
                  attributes:
                    code: HU
                    name: Hungary
                    eu: true
                - id: ID
                  type: bill::Country
                  attributes:
                    code: ID
                    name: Indonesia
                    eu: false
                - id: IE
                  type: bill::Country
                  attributes:
                    code: IE
                    name: Ireland
                    eu: true
                - id: IL
                  type: bill::Country
                  attributes:
                    code: IL
                    name: Israel
                    eu: false
                - id: IM
                  type: bill::Country
                  attributes:
                    code: IM
                    name: Isle of Man
                    eu: false
                - id: IN
                  type: bill::Country
                  attributes:
                    code: IN
                    name: India
                    eu: false
                - id: IO
                  type: bill::Country
                  attributes:
                    code: IO
                    name: British Indian Ocean Territory
                    eu: false
                - id: IQ
                  type: bill::Country
                  attributes:
                    code: IQ
                    name: Iraq
                    eu: false
                - id: IR
                  type: bill::Country
                  attributes:
                    code: IR
                    name: Iran
                    eu: false
                - id: IS
                  type: bill::Country
                  attributes:
                    code: IS
                    name: Iceland
                    eu: false
                - id: IT
                  type: bill::Country
                  attributes:
                    code: IT
                    name: Italy
                    eu: true
                - id: JE
                  type: bill::Country
                  attributes:
                    code: JE
                    name: Jersey
                    eu: false
                - id: JM
                  type: bill::Country
                  attributes:
                    code: JM
                    name: Jamaica
                    eu: false
                - id: JO
                  type: bill::Country
                  attributes:
                    code: JO
                    name: Jordan
                    eu: false
                - id: JP
                  type: bill::Country
                  attributes:
                    code: JP
                    name: Japan
                    eu: false
                - id: KE
                  type: bill::Country
                  attributes:
                    code: KE
                    name: Kenya
                    eu: false
                - id: KG
                  type: bill::Country
                  attributes:
                    code: KG
                    name: Kyrgyzstan
                    eu: false
                - id: KH
                  type: bill::Country
                  attributes:
                    code: KH
                    name: Cambodia
                    eu: false
                - id: KI
                  type: bill::Country
                  attributes:
                    code: KI
                    name: Kiribati
                    eu: false
                - id: KM
                  type: bill::Country
                  attributes:
                    code: KM
                    name: Comoros
                    eu: false
                - id: KN
                  type: bill::Country
                  attributes:
                    code: KN
                    name: Saint Kitts and Nevis
                    eu: false
                - id: KP
                  type: bill::Country
                  attributes:
                    code: KP
                    name: Korea, North
                    eu: false
                - id: KR
                  type: bill::Country
                  attributes:
                    code: KR
                    name: Korea, South
                    eu: false
                - id: KW
                  type: bill::Country
                  attributes:
                    code: KW
                    name: Kuwait
                    eu: false
                - id: KY
                  type: bill::Country
                  attributes:
                    code: KY
                    name: Cayman Islands
                    eu: false
                - id: KZ
                  type: bill::Country
                  attributes:
                    code: KZ
                    name: Kazakhstan
                    eu: false
                - id: LA
                  type: bill::Country
                  attributes:
                    code: LA
                    name: Laos
                    eu: false
                - id: LB
                  type: bill::Country
                  attributes:
                    code: LB
                    name: Lebanon
                    eu: false
                - id: LC
                  type: bill::Country
                  attributes:
                    code: LC
                    name: Saint Lucia
                    eu: false
                - id: LI
                  type: bill::Country
                  attributes:
                    code: LI
                    name: Liechtenstein
                    eu: false
                - id: LK
                  type: bill::Country
                  attributes:
                    code: LK
                    name: Sri Lanka
                    eu: false
                - id: LR
                  type: bill::Country
                  attributes:
                    code: LR
                    name: Liberia
                    eu: false
                - id: LS
                  type: bill::Country
                  attributes:
                    code: LS
                    name: Lesotho
                    eu: false
                - id: LT
                  type: bill::Country
                  attributes:
                    code: LT
                    name: Lithuania
                    eu: true
                - id: LU
                  type: bill::Country
                  attributes:
                    code: LU
                    name: Luxembourg
                    eu: true
                - id: LV
                  type: bill::Country
                  attributes:
                    code: LV
                    name: Latvia
                    eu: true
                - id: LY
                  type: bill::Country
                  attributes:
                    code: LY
                    name: Libya
                    eu: false
                - id: MA
                  type: bill::Country
                  attributes:
                    code: MA
                    name: Morocco
                    eu: false
                - id: MC
                  type: bill::Country
                  attributes:
                    code: MC
                    name: Monaco
                    eu: false
                - id: MD
                  type: bill::Country
                  attributes:
                    code: MD
                    name: Moldova
                    eu: false
                - id: ME
                  type: bill::Country
                  attributes:
                    code: ME
                    name: Montenegro
                    eu: false
                - id: MG
                  type: bill::Country
                  attributes:
                    code: MG
                    name: Madagascar
                    eu: false
                - id: MH
                  type: bill::Country
                  attributes:
                    code: MH
                    name: Marshall Islands
                    eu: false
                - id: MK
                  type: bill::Country
                  attributes:
                    code: MK
                    name: Macedonia
                    eu: false
                - id: ML
                  type: bill::Country
                  attributes:
                    code: ML
                    name: Mali
                    eu: false
                - id: MM
                  type: bill::Country
                  attributes:
                    code: MM
                    name: Myanmar (Burma)
                    eu: false
                - id: MN
                  type: bill::Country
                  attributes:
                    code: MN
                    name: Mongolia
                    eu: false
                - id: MO
                  type: bill::Country
                  attributes:
                    code: MO
                    name: Macau
                    eu: false
                - id: MP
                  type: bill::Country
                  attributes:
                    code: MP
                    name: Northern Mariana Islands
                    eu: false
                - id: MQ
                  type: bill::Country
                  attributes:
                    code: MQ
                    name: Martinique
                    eu: false
                - id: MR
                  type: bill::Country
                  attributes:
                    code: MR
                    name: Mauritania
                    eu: false
                - id: MS
                  type: bill::Country
                  attributes:
                    code: MS
                    name: Montserrat
                    eu: false
                - id: MT
                  type: bill::Country
                  attributes:
                    code: MT
                    name: Malta
                    eu: true
                - id: MU
                  type: bill::Country
                  attributes:
                    code: MU
                    name: Mauritius
                    eu: false
                - id: MV
                  type: bill::Country
                  attributes:
                    code: MV
                    name: Maldives
                    eu: false
                - id: MW
                  type: bill::Country
                  attributes:
                    code: MW
                    name: Malawi
                    eu: false
                - id: MX
                  type: bill::Country
                  attributes:
                    code: MX
                    name: Mexico
                    eu: false
                - id: MY
                  type: bill::Country
                  attributes:
                    code: MY
                    name: Malaysia
                    eu: false
                - id: MZ
                  type: bill::Country
                  attributes:
                    code: MZ
                    name: Mozambique
                    eu: false
                - id: NA
                  type: bill::Country
                  attributes:
                    code: NA
                    name: Namibia
                    eu: false
                - id: NC
                  type: bill::Country
                  attributes:
                    code: NC
                    name: New Caledonia
                    eu: false
                - id: NE
                  type: bill::Country
                  attributes:
                    code: NE
                    name: Niger
                    eu: false
                - id: NF
                  type: bill::Country
                  attributes:
                    code: NF
                    name: Norfolk Island
                    eu: false
                - id: NG
                  type: bill::Country
                  attributes:
                    code: NG
                    name: Nigeria
                    eu: false
                - id: NI
                  type: bill::Country
                  attributes:
                    code: NI
                    name: Nicaragua
                    eu: false
                - id: NL
                  type: bill::Country
                  attributes:
                    code: NL
                    name: Netherlands
                    eu: true
                - id: 'NO'
                  type: bill::Country
                  attributes:
                    code: 'NO'
                    name: Norway
                    eu: false
                - id: NP
                  type: bill::Country
                  attributes:
                    code: NP
                    name: Nepal
                    eu: false
                - id: NR
                  type: bill::Country
                  attributes:
                    code: NR
                    name: Nauru
                    eu: false
                - id: NU
                  type: bill::Country
                  attributes:
                    code: NU
                    name: Niue
                    eu: false
                - id: NZ
                  type: bill::Country
                  attributes:
                    code: NZ
                    name: New Zealand
                    eu: false
                - id: OM
                  type: bill::Country
                  attributes:
                    code: OM
                    name: Oman
                    eu: false
                - id: PA
                  type: bill::Country
                  attributes:
                    code: PA
                    name: Panama
                    eu: false
                - id: PE
                  type: bill::Country
                  attributes:
                    code: PE
                    name: Peru
                    eu: false
                - id: PF
                  type: bill::Country
                  attributes:
                    code: PF
                    name: French Polynesia
                    eu: false
                - id: PG
                  type: bill::Country
                  attributes:
                    code: PG
                    name: Papua New Guinea
                    eu: false
                - id: PH
                  type: bill::Country
                  attributes:
                    code: PH
                    name: Philippines
                    eu: false
                - id: PK
                  type: bill::Country
                  attributes:
                    code: PK
                    name: Pakistan
                    eu: false
                - id: PL
                  type: bill::Country
                  attributes:
                    code: PL
                    name: Poland
                    eu: true
                - id: PM
                  type: bill::Country
                  attributes:
                    code: PM
                    name: Saint Pierre and Miquelon
                    eu: false
                - id: PN
                  type: bill::Country
                  attributes:
                    code: PN
                    name: Pitcairn Islands
                    eu: false
                - id: PR
                  type: bill::Country
                  attributes:
                    code: PR
                    name: Puerto Rico
                    eu: false
                - id: PT
                  type: bill::Country
                  attributes:
                    code: PT
                    name: Portugal
                    eu: true
                - id: PW
                  type: bill::Country
                  attributes:
                    code: PW
                    name: Palau
                    eu: false
                - id: PY
                  type: bill::Country
                  attributes:
                    code: PY
                    name: Paraguay
                    eu: false
                - id: QA
                  type: bill::Country
                  attributes:
                    code: QA
                    name: Qatar
                    eu: false
                - id: RE
                  type: bill::Country
                  attributes:
                    code: RE
                    name: Reunion
                    eu: false
                - id: RO
                  type: bill::Country
                  attributes:
                    code: RO
                    name: Romania
                    eu: true
                - id: RS
                  type: bill::Country
                  attributes:
                    code: RS
                    name: Serbia
                    eu: false
                - id: RU
                  type: bill::Country
                  attributes:
                    code: RU
                    name: Russia
                    eu: false
                - id: RW
                  type: bill::Country
                  attributes:
                    code: RW
                    name: Rwanda
                    eu: false
                - id: SA
                  type: bill::Country
                  attributes:
                    code: SA
                    name: Saudi Arabia
                    eu: false
                - id: SB
                  type: bill::Country
                  attributes:
                    code: SB
                    name: Solomon Islands
                    eu: false
                - id: SC
                  type: bill::Country
                  attributes:
                    code: SC
                    name: Seychelles
                    eu: false
                - id: SD
                  type: bill::Country
                  attributes:
                    code: SD
                    name: Sudan
                    eu: false
                - id: SE
                  type: bill::Country
                  attributes:
                    code: SE
                    name: Sweden
                    eu: true
                - id: SG
                  type: bill::Country
                  attributes:
                    code: SG
                    name: Singapore
                    eu: false
                - id: SH
                  type: bill::Country
                  attributes:
                    code: SH
                    name: Tristan da Cunha
                    eu: false
                - id: SI
                  type: bill::Country
                  attributes:
                    code: SI
                    name: Slovenia
                    eu: true
                - id: SJ
                  type: bill::Country
                  attributes:
                    code: SJ
                    name: Svalbard
                    eu: false
                - id: SK
                  type: bill::Country
                  attributes:
                    code: SK
                    name: Slovakia
                    eu: true
                - id: SL
                  type: bill::Country
                  attributes:
                    code: SL
                    name: Sierra Leone
                    eu: false
                - id: SM
                  type: bill::Country
                  attributes:
                    code: SM
                    name: San Marino
                    eu: false
                - id: SN
                  type: bill::Country
                  attributes:
                    code: SN
                    name: Senegal
                    eu: false
                - id: SO
                  type: bill::Country
                  attributes:
                    code: SO
                    name: Somalia
                    eu: false
                - id: SR
                  type: bill::Country
                  attributes:
                    code: SR
                    name: Suriname
                    eu: false
                - id: ST
                  type: bill::Country
                  attributes:
                    code: ST
                    name: Sao Tome and Principe
                    eu: false
                - id: SV
                  type: bill::Country
                  attributes:
                    code: SV
                    name: El Salvador
                    eu: false
                - id: SY
                  type: bill::Country
                  attributes:
                    code: SY
                    name: Syria
                    eu: false
                - id: SZ
                  type: bill::Country
                  attributes:
                    code: SZ
                    name: Swaziland
                    eu: false
                - id: SH
                  type: bill::Country
                  attributes:
                    code: SH
                    name: Tristan da Cunha
                    eu: false
                - id: TC
                  type: bill::Country
                  attributes:
                    code: TC
                    name: Turks and Caicos Islands
                    eu: false
                - id: TD
                  type: bill::Country
                  attributes:
                    code: TD
                    name: Chad
                    eu: false
                - id: TF
                  type: bill::Country
                  attributes:
                    code: TF
                    name: French Southern and Antarctic Lands
                    eu: false
                - id: TG
                  type: bill::Country
                  attributes:
                    code: TG
                    name: Togo
                    eu: false
                - id: TH
                  type: bill::Country
                  attributes:
                    code: TH
                    name: Thailand
                    eu: false
                - id: TJ
                  type: bill::Country
                  attributes:
                    code: TJ
                    name: Tajikistan
                    eu: false
                - id: TK
                  type: bill::Country
                  attributes:
                    code: TK
                    name: Tokelau
                    eu: false
                - id: TL
                  type: bill::Country
                  attributes:
                    code: TL
                    name: Timor-Leste (East Timor)
                    eu: false
                - id: TM
                  type: bill::Country
                  attributes:
                    code: TM
                    name: Turkmenistan
                    eu: false
                - id: TN
                  type: bill::Country
                  attributes:
                    code: TN
                    name: Tunisia
                    eu: false
                - id: TO
                  type: bill::Country
                  attributes:
                    code: TO
                    name: Tonga
                    eu: false
                - id: TR
                  type: bill::Country
                  attributes:
                    code: TR
                    name: Turkey
                    eu: false
                - id: TT
                  type: bill::Country
                  attributes:
                    code: TT
                    name: Trinidad and Tobago
                    eu: false
                - id: TV
                  type: bill::Country
                  attributes:
                    code: TV
                    name: Tuvalu
                    eu: false
                - id: TW
                  type: bill::Country
                  attributes:
                    code: TW
                    name: China, Republic of (Taiwan)
                    eu: false
                - id: TZ
                  type: bill::Country
                  attributes:
                    code: TZ
                    name: Tanzania
                    eu: false
                - id: UA
                  type: bill::Country
                  attributes:
                    code: UA
                    name: Ukraine
                    eu: false
                - id: UG
                  type: bill::Country
                  attributes:
                    code: UG
                    name: Uganda
                    eu: false
                - id: UM
                  type: bill::Country
                  attributes:
                    code: UM
                    name: United States Minor Outlying Islands
                    eu: false
                - id: US
                  type: bill::Country
                  attributes:
                    code: US
                    name: United States
                    eu: false
                - id: UY
                  type: bill::Country
                  attributes:
                    code: UY
                    name: Uruguay
                    eu: false
                - id: UZ
                  type: bill::Country
                  attributes:
                    code: UZ
                    name: Uzbekistan
                    eu: false
                - id: VA
                  type: bill::Country
                  attributes:
                    code: VA
                    name: Vatican City
                    eu: false
                - id: VC
                  type: bill::Country
                  attributes:
                    code: VC
                    name: Saint Vincent and the Grenadines
                    eu: false
                - id: VE
                  type: bill::Country
                  attributes:
                    code: VE
                    name: Venezuela
                    eu: false
                - id: VG
                  type: bill::Country
                  attributes:
                    code: VG
                    name: British Virgin Islands
                    eu: false
                - id: VI
                  type: bill::Country
                  attributes:
                    code: VI
                    name: U.S. Virgin Islands
                    eu: false
                - id: VN
                  type: bill::Country
                  attributes:
                    code: VN
                    name: Vietnam
                    eu: false
                - id: VU
                  type: bill::Country
                  attributes:
                    code: VU
                    name: Vanuatu
                    eu: false
                - id: WF
                  type: bill::Country
                  attributes:
                    code: WF
                    name: Wallis and Futuna
                    eu: false
                - id: WS
                  type: bill::Country
                  attributes:
                    code: WS
                    name: Samoa
                    eu: false
                - id: YE
                  type: bill::Country
                  attributes:
                    code: YE
                    name: Yemen
                    eu: false
                - id: YT
                  type: bill::Country
                  attributes:
                    code: YT
                    name: Mayotte
                    eu: false
                - id: ZA
                  type: bill::Country
                  attributes:
                    code: ZA
                    name: South Africa
                    eu: false
                - id: ZM
                  type: bill::Country
                  attributes:
                    code: ZM
                    name: Zambia
                    eu: false
                - id: ZW
                  type: bill::Country
                  attributes:
                    code: ZW
                    name: Zimbabwe
                    eu: false
                - id: PS
                  type: bill::Country
                  attributes:
                    code: PS
                    name: Palestine
                    eu: false
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 245
                  totalPages: 1
                  totalCount: 245
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/countries?page=1
                  next: 
                  prev: 
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      properties:
                        id:
                          type: string
                          format: uuid
                        type:
                          type: string
                        attributes:
                          type: object
                          properties:
                            code:
                              type: string
                            name:
                              type: string
                            eu:
                              type: boolean
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: link to record detail
                  meta:
                    type: object
                    properties:
                      pageNumber:
                        type: object
                        properties:
                          current:
                            type: integer
                            format: int32
                            default: 1
                          previous:
                            type: integer
                            format: int32
                            nullable: true
                          next:
                            type: integer
                            format: int32
                            nullable: true
                      perPage:
                        type: integer
                        format: int32
                      totalPages:
                        type: integer
                        format: int32
                      totalCount:
                        type: integer
                        format: int32
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: link to current page
                      next:
                        type: string
                        nullable: true
                        description: link to next page
                      prev:
                        type: string
                        nullable: true
                        description: link to previous page
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:country:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/countries/{country_code}/subdivisions":
    get:
      summary: get country subdivisions list
      tags:
      - Entities
      description: Country subdivisions (provinces, states, zones, etc.) list
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: country_code
        in: path
        required: true
        description: country code
        schema:
          type: string
      responses:
        '200':
          description: country subdivisions found
          content:
            application/json:
              example:
                data:
                - id: AG
                  type: bill::CountrySubdivision
                  attributes:
                    code: AG
                    name: Agrigento
                - id: AL
                  type: bill::CountrySubdivision
                  attributes:
                    code: AL
                    name: Alessandria
                - id: AN
                  type: bill::CountrySubdivision
                  attributes:
                    code: AN
                    name: Ancona
                - id: AR
                  type: bill::CountrySubdivision
                  attributes:
                    code: AR
                    name: Arezzo
                - id: AP
                  type: bill::CountrySubdivision
                  attributes:
                    code: AP
                    name: Ascoli Piceno
                - id: AT
                  type: bill::CountrySubdivision
                  attributes:
                    code: AT
                    name: Asti
                - id: AV
                  type: bill::CountrySubdivision
                  attributes:
                    code: AV
                    name: Avellino
                - id: BA
                  type: bill::CountrySubdivision
                  attributes:
                    code: BA
                    name: Bari
                - id: BT
                  type: bill::CountrySubdivision
                  attributes:
                    code: BT
                    name: Barletta-Andria-Trani
                - id: BL
                  type: bill::CountrySubdivision
                  attributes:
                    code: BL
                    name: Belluno
                - id: BN
                  type: bill::CountrySubdivision
                  attributes:
                    code: BN
                    name: Benevento
                - id: BG
                  type: bill::CountrySubdivision
                  attributes:
                    code: BG
                    name: Bergamo
                - id: BI
                  type: bill::CountrySubdivision
                  attributes:
                    code: BI
                    name: Biella
                - id: BO
                  type: bill::CountrySubdivision
                  attributes:
                    code: BO
                    name: Bologna
                - id: BZ
                  type: bill::CountrySubdivision
                  attributes:
                    code: BZ
                    name: Bolzano/Bozen
                - id: BS
                  type: bill::CountrySubdivision
                  attributes:
                    code: BS
                    name: Brescia
                - id: BR
                  type: bill::CountrySubdivision
                  attributes:
                    code: BR
                    name: Brindisi
                - id: CA
                  type: bill::CountrySubdivision
                  attributes:
                    code: CA
                    name: Cagliari
                - id: CL
                  type: bill::CountrySubdivision
                  attributes:
                    code: CL
                    name: Caltanissetta
                - id: CB
                  type: bill::CountrySubdivision
                  attributes:
                    code: CB
                    name: Campobasso
                - id: CE
                  type: bill::CountrySubdivision
                  attributes:
                    code: CE
                    name: Caserta
                - id: CT
                  type: bill::CountrySubdivision
                  attributes:
                    code: CT
                    name: Catania
                - id: CZ
                  type: bill::CountrySubdivision
                  attributes:
                    code: CZ
                    name: Catanzaro
                - id: CH
                  type: bill::CountrySubdivision
                  attributes:
                    code: CH
                    name: Chieti
                - id: CO
                  type: bill::CountrySubdivision
                  attributes:
                    code: CO
                    name: Como
                - id: CS
                  type: bill::CountrySubdivision
                  attributes:
                    code: CS
                    name: Cosenza
                - id: CR
                  type: bill::CountrySubdivision
                  attributes:
                    code: CR
                    name: Cremona
                - id: KR
                  type: bill::CountrySubdivision
                  attributes:
                    code: KR
                    name: Crotone
                - id: CN
                  type: bill::CountrySubdivision
                  attributes:
                    code: CN
                    name: Cuneo
                - id: EN
                  type: bill::CountrySubdivision
                  attributes:
                    code: EN
                    name: Enna
                - id: FM
                  type: bill::CountrySubdivision
                  attributes:
                    code: FM
                    name: Fermo
                - id: FE
                  type: bill::CountrySubdivision
                  attributes:
                    code: FE
                    name: Ferrara
                - id: FI
                  type: bill::CountrySubdivision
                  attributes:
                    code: FI
                    name: Firenze
                - id: FG
                  type: bill::CountrySubdivision
                  attributes:
                    code: FG
                    name: Foggia
                - id: FC
                  type: bill::CountrySubdivision
                  attributes:
                    code: FC
                    name: ForlÃ¬-Cesena
                - id: FR
                  type: bill::CountrySubdivision
                  attributes:
                    code: FR
                    name: Frosinone
                - id: GE
                  type: bill::CountrySubdivision
                  attributes:
                    code: GE
                    name: Genova
                - id: GO
                  type: bill::CountrySubdivision
                  attributes:
                    code: GO
                    name: Gorizia
                - id: GR
                  type: bill::CountrySubdivision
                  attributes:
                    code: GR
                    name: Grosseto
                - id: IM
                  type: bill::CountrySubdivision
                  attributes:
                    code: IM
                    name: Imperia
                - id: IS
                  type: bill::CountrySubdivision
                  attributes:
                    code: IS
                    name: Isernia
                - id: AQ
                  type: bill::CountrySubdivision
                  attributes:
                    code: AQ
                    name: L'Aquila
                - id: SP
                  type: bill::CountrySubdivision
                  attributes:
                    code: SP
                    name: La Spezia
                - id: LT
                  type: bill::CountrySubdivision
                  attributes:
                    code: LT
                    name: Latina
                - id: LE
                  type: bill::CountrySubdivision
                  attributes:
                    code: LE
                    name: Lecce
                - id: LC
                  type: bill::CountrySubdivision
                  attributes:
                    code: LC
                    name: Lecco
                - id: LI
                  type: bill::CountrySubdivision
                  attributes:
                    code: LI
                    name: Livorno
                - id: LO
                  type: bill::CountrySubdivision
                  attributes:
                    code: LO
                    name: Lodi
                - id: LU
                  type: bill::CountrySubdivision
                  attributes:
                    code: LU
                    name: Lucca
                - id: MC
                  type: bill::CountrySubdivision
                  attributes:
                    code: MC
                    name: Macerata
                - id: MN
                  type: bill::CountrySubdivision
                  attributes:
                    code: MN
                    name: Mantova
                - id: MS
                  type: bill::CountrySubdivision
                  attributes:
                    code: MS
                    name: Massa-Carrara
                - id: MT
                  type: bill::CountrySubdivision
                  attributes:
                    code: MT
                    name: Matera
                - id: ME
                  type: bill::CountrySubdivision
                  attributes:
                    code: ME
                    name: Messina
                - id: MI
                  type: bill::CountrySubdivision
                  attributes:
                    code: MI
                    name: Milano
                - id: MO
                  type: bill::CountrySubdivision
                  attributes:
                    code: MO
                    name: Modena
                - id: MB
                  type: bill::CountrySubdivision
                  attributes:
                    code: MB
                    name: Monza e della Brianza
                - id: NA
                  type: bill::CountrySubdivision
                  attributes:
                    code: NA
                    name: Napoli
                - id: 'NO'
                  type: bill::CountrySubdivision
                  attributes:
                    code: 'NO'
                    name: Novara
                - id: NU
                  type: bill::CountrySubdivision
                  attributes:
                    code: NU
                    name: Nuoro
                - id: OR
                  type: bill::CountrySubdivision
                  attributes:
                    code: OR
                    name: Oristano
                - id: PD
                  type: bill::CountrySubdivision
                  attributes:
                    code: PD
                    name: Padova
                - id: PA
                  type: bill::CountrySubdivision
                  attributes:
                    code: PA
                    name: Palermo
                - id: PR
                  type: bill::CountrySubdivision
                  attributes:
                    code: PR
                    name: Parma
                - id: PV
                  type: bill::CountrySubdivision
                  attributes:
                    code: PV
                    name: Pavia
                - id: PG
                  type: bill::CountrySubdivision
                  attributes:
                    code: PG
                    name: Perugia
                - id: PU
                  type: bill::CountrySubdivision
                  attributes:
                    code: PU
                    name: Pesaro e Urbino
                - id: PE
                  type: bill::CountrySubdivision
                  attributes:
                    code: PE
                    name: Pescara
                - id: PC
                  type: bill::CountrySubdivision
                  attributes:
                    code: PC
                    name: Piacenza
                - id: PI
                  type: bill::CountrySubdivision
                  attributes:
                    code: PI
                    name: Pisa
                - id: PT
                  type: bill::CountrySubdivision
                  attributes:
                    code: PT
                    name: Pistoia
                - id: PN
                  type: bill::CountrySubdivision
                  attributes:
                    code: PN
                    name: Pordenone
                - id: PZ
                  type: bill::CountrySubdivision
                  attributes:
                    code: PZ
                    name: Potenza
                - id: PO
                  type: bill::CountrySubdivision
                  attributes:
                    code: PO
                    name: Prato
                - id: RG
                  type: bill::CountrySubdivision
                  attributes:
                    code: RG
                    name: Ragusa
                - id: RA
                  type: bill::CountrySubdivision
                  attributes:
                    code: RA
                    name: Ravenna
                - id: RC
                  type: bill::CountrySubdivision
                  attributes:
                    code: RC
                    name: Reggio Calabria
                - id: RE
                  type: bill::CountrySubdivision
                  attributes:
                    code: RE
                    name: Reggio nell'Emilia
                - id: RI
                  type: bill::CountrySubdivision
                  attributes:
                    code: RI
                    name: Rieti
                - id: RN
                  type: bill::CountrySubdivision
                  attributes:
                    code: RN
                    name: Rimini
                - id: RM
                  type: bill::CountrySubdivision
                  attributes:
                    code: RM
                    name: Roma
                - id: RO
                  type: bill::CountrySubdivision
                  attributes:
                    code: RO
                    name: Rovigo
                - id: SA
                  type: bill::CountrySubdivision
                  attributes:
                    code: SA
                    name: Salerno
                - id: SS
                  type: bill::CountrySubdivision
                  attributes:
                    code: SS
                    name: Sassari
                - id: SV
                  type: bill::CountrySubdivision
                  attributes:
                    code: SV
                    name: Savona
                - id: SI
                  type: bill::CountrySubdivision
                  attributes:
                    code: SI
                    name: Siena
                - id: SR
                  type: bill::CountrySubdivision
                  attributes:
                    code: SR
                    name: Siracusa
                - id: SO
                  type: bill::CountrySubdivision
                  attributes:
                    code: SO
                    name: Sondrio
                - id: SU
                  type: bill::CountrySubdivision
                  attributes:
                    code: SU
                    name: Sud Sardegna
                - id: TA
                  type: bill::CountrySubdivision
                  attributes:
                    code: TA
                    name: Taranto
                - id: TE
                  type: bill::CountrySubdivision
                  attributes:
                    code: TE
                    name: Teramo
                - id: TR
                  type: bill::CountrySubdivision
                  attributes:
                    code: TR
                    name: Terni
                - id: TO
                  type: bill::CountrySubdivision
                  attributes:
                    code: TO
                    name: Torino
                - id: TP
                  type: bill::CountrySubdivision
                  attributes:
                    code: TP
                    name: Trapani
                - id: TN
                  type: bill::CountrySubdivision
                  attributes:
                    code: TN
                    name: Trento
                - id: TV
                  type: bill::CountrySubdivision
                  attributes:
                    code: TV
                    name: Treviso
                - id: TS
                  type: bill::CountrySubdivision
                  attributes:
                    code: TS
                    name: Trieste
                - id: UD
                  type: bill::CountrySubdivision
                  attributes:
                    code: UD
                    name: Udine
                - id: AO
                  type: bill::CountrySubdivision
                  attributes:
                    code: AO
                    name: Valle d'Aosta/VallÃ©e d'Aoste
                - id: VA
                  type: bill::CountrySubdivision
                  attributes:
                    code: VA
                    name: Varese
                - id: VE
                  type: bill::CountrySubdivision
                  attributes:
                    code: VE
                    name: Venezia
                - id: VB
                  type: bill::CountrySubdivision
                  attributes:
                    code: VB
                    name: Verbano-Cusio-Ossola
                - id: VC
                  type: bill::CountrySubdivision
                  attributes:
                    code: VC
                    name: Vercelli
                - id: VR
                  type: bill::CountrySubdivision
                  attributes:
                    code: VR
                    name: Verona
                - id: VV
                  type: bill::CountrySubdivision
                  attributes:
                    code: VV
                    name: Vibo Valentia
                - id: VI
                  type: bill::CountrySubdivision
                  attributes:
                    code: VI
                    name: Vicenza
                - id: VT
                  type: bill::CountrySubdivision
                  attributes:
                    code: VT
                    name: Viterbo
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 107
                  totalPages: 1
                  totalCount: 107
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/countries/IT/subdivisions?page=1
                  next: 
                  prev: 
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      properties:
                        id:
                          type: string
                          format: uuid
                        type:
                          type: string
                        attributes:
                          type: object
                          properties:
                            code:
                              type: string
                            name:
                              type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: link to record detail
                  meta:
                    type: object
                    properties:
                      pageNumber:
                        type: object
                        properties:
                          current:
                            type: integer
                            format: int32
                            default: 1
                          previous:
                            type: integer
                            format: int32
                            nullable: true
                          next:
                            type: integer
                            format: int32
                            nullable: true
                      perPage:
                        type: integer
                        format: int32
                      totalPages:
                        type: integer
                        format: int32
                      totalCount:
                        type: integer
                        format: int32
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: link to current page
                      next:
                        type: string
                        nullable: true
                        description: link to next page
                      prev:
                        type: string
                        nullable: true
                        description: link to previous page
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:country_subdivision:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '501':
          description: not implemented
          content:
            application/json:
              example:
                errors:
                - title: Sottodivisione non implementata
                  detail: Questo sottodivisione non Ã¨ ancora implementata nel sistema
                  type: bill:country_subdivision:read_collection_chainer:country_subdivision:not_implemented
                  status: 501
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/countryWithhelds/{country_code}":
    get:
      summary: get country withheld details
      tags:
      - Entities
      description: Country withheld details
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: country_code
        in: path
        required: true
        description: country code
        schema:
          type: string
      responses:
        '200':
          description: Country withheld found
          content:
            application/json:
              example:
                data:
                  id: WW_30
                  type: bill::WithheldMode
                  attributes:
                    code: WW_30
                    extcode: MX
                    name: 30%
                    description: Ritenuta company estera 30% su 100%
                    withheldPct: 30
                    amountPct: 100
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:country_withheld:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/active":
    get:
      summary: get ACTIVE invoice document details
      tags:
      - Invoices
      description: |-
        â ï¸ WARNING: The alias endpoint terminating with <code>/active</code> is only
                for describing the example response,<br>for real situation use the canonical
                endpoint: <code>/api/v4/customers/{customer_pid}/invoiceDocuments/{pid}</code>
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      responses:
        '200':
          description: invoice ACTIVE found
          content:
            application/json:
              example:
                data:
                  id: 501c157b-f711-4562-80cd-79fe12e6d8ff
                  type: bill::InvoiceReceivable
                  attributes:
                    customerPid: 91a2dbcc-15a6-42f1-9f5f-e1fd3725e807
                    sectionalCode: STORES_NOT_IT
                    typologyCode: ACTIVE
                    status: 
                    companyCode: SL_IT
                    companyInfo:
                      code: SL_IT
                      name: Parker and Sons
                      address: 313 Schuster Landing
                      city: East Geraldo
                      postalCode: '39081'
                      countrySub: ME
                      countryCode: MC
                      personalTin: jj9jinck6y
                      companyTin: srjhmw9ymf
                      shareCapital: '77177.0'
                      recipientCode: 77qjnst
                    platformCode: STORES
                    currencyCode: BYR
                    issuedOn: '2020-01-31'
                    issuedYear: 2020
                    issuedNumber: 1/STREETLIB
                    netAmount: 48.34
                    vatAmount: 9.67
                    totalAmount: 58.01
                    paidAmount: 58.01
                    sureRemitVoucherAmount: 0.0
                    sureRemitFee: 0.0
                    paymentMethod: SHOPIFY_PAYPAL
                    pensionAmount: 0.0
                    withheldAmount: 0.0
                    product: 
                    rows:
                    - description: est illum et
                      productCode: S053
                      vatCode: '22'
                      quantity: 5
                      discountPercentage: 0.0
                      unitPrice: 453.95
                      vat: 9.0
                    timeline:
                    - code: CREATED
                      label: Creato
                      completeOn: '2020-01-31'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: PAID
                      label: Pagato
                      completeOn: '2020-01-31'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: REFUND
                      label: Rimborsato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                  relationships:
                    billingProfile:
                      data:
                        id: cb874ae2-2adb-49fa-995e-aa9e37332c23
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/91a2dbcc-15a6-42f1-9f5f-e1fd3725e807/billingProfiles/cb874ae2-2adb-49fa-995e-aa9e37332c23
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/91a2dbcc-15a6-42f1-9f5f-e1fd3725e807/invoiceDocuments/501c157b-f711-4562-80cd-79fe12e6d8ff
                    downloadPdf: https://api-gw-staging.streetlib.com/public/bill/v4/customers/91a2dbcc-15a6-42f1-9f5f-e1fd3725e807/invoiceDocuments/501c157b-f711-4562-80cd-79fe12e6d8ff/download/pdf
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      type:
                        type: string
                      attributes:
                        type: object
                        properties:
                          customerCode:
                            type: string
                            format: uuid
                            description: can be also non-uuid format
                          sectionalCode:
                            "$ref": "#/components/schemas/sectional_type_codes"
                          typologyCode:
                            "$ref": "#/components/schemas/invoice_type_codes"
                          companyCode:
                            "$ref": "#/components/schemas/company_codes"
                          platformCode:
                            "$ref": "#/components/schemas/platform_dash_codes"
                          currencyCode:
                            "$ref": "#/components/schemas/currency_codes"
                          refDate:
                            type: string
                            format: date
                          refYear:
                            type: number
                            format: int32
                          refNumber:
                            type: string
                          netAmount:
                            type: number
                            format: float
                          vatAmount:
                            type: number
                            format: float
                          totalAmount:
                            type: number
                            format: float
                          paidAmount:
                            type: number
                            format: float
                          sureRemitVoucherAmount:
                            type: number
                            format: float
                          sureRemitFee:
                            type: number
                            format: float
                          paymentMethod:
                            type: string
                          pensionAmount:
                            type: number
                            format: float
                          withheldAmount:
                            type: number
                            format: float
                          product:
                            type: string
                            nullable: true
                          revisoExtid:
                            type: string
                            nullable: true
                            description: unused
                          rows:
                            type: array
                            items:
                              properties:
                                description:
                                  type: string
                                productCode:
                                  type: string
                                vatCode:
                                  "$ref": "#/components/schemas/receivable_vat_mode_extcodes"
                                quantity:
                                  type: number
                                  format: int32
                                discountPercentage:
                                  type: number
                                  format: float
                                unitPrice:
                                  type: number
                                  format: float
                                vat:
                                  type: number
                                  format: float
                          recipient:
                            type: object
                            properties:
                              name:
                                type: string
                              address:
                                type: string
                              addressAlt:
                                type: string
                                nullable: true
                              city:
                                type: string
                              postalCode:
                                type: string
                              countrySub:
                                "$ref": "#/components/schemas/field_country_sub"
                              countryCode:
                                "$ref": "#/components/schemas/field_country_code"
                              personalTin:
                                "$ref": "#/components/schemas/field_personal_tin"
                              companyTin:
                                "$ref": "#/components/schemas/field_company_tin"
                      links:
                        type: object
                        properties:
                          self:
                            type: string
                            description: link to invoice document detail
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:read_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_document non trovato
                  detail: invoice_document non trovato con il parametro pid (invalid)
                  type: bill:invoice_document:read_element_chainer:invoice_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/analyticsReport/{ext}":
    get:
      summary: analytics report of invoice document
      tags:
      - Invoices
      description: get link to download analytics report of invoice document
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      - name: ext
        in: path
        required: true
        description: file format
        schema:
          type: string
          enum:
          - pdf
          - xslx
          - csv
      responses:
        '200':
          description: file link found (or empty)
          content:
            application/json:
              example:
                response: http://localhost:4566/bill-test-bucket/bill/analytic_reports/2022/12/d5039dbb-3fea-4074-86af-2c4bf7512245.pdf?response-content-disposition=attachment%3B%20filename%3Dd5039dbb-3fea-4074-86af-2c4bf7512245.pdf&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=test%2F20221230%2Feu-west-1%2Fs3%2Faws4_request&X-Amz-Date=20221230T081538Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=2253518e8be89960e272e5509d9d01f0db29154cb56c99f25092d26257fca003
              schema:
                type: object
                properties:
                  response:
                    type: string
                    nullable: true
                    description: signed url to AWS S3 resource
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:analytics_report_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_document non trovato
                  detail: invoice_document non trovato con il parametro invoice_document_pid
                    (invalid)
                  type: bill:invoice_document:analytics_report_element_chainer:invoice_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:analytics_report_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/approve":
    post:
      summary: approve an invoice document
      tags:
      - Invoices
      description: approve a passive draft invoice document
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      responses:
        '201':
          description: invoice document approved
          content:
            application/json:
              example:
                data:
                  id: 0a28921b-1f2a-45a6-a288-0a239a0651fc
                  type: bill::InvoicePayable
                  attributes:
                    customerPid: e39a8ae6-4101-460f-bde7-5a393e0da380
                    typologyCode: PASSIVE
                    status: APPROVED
                    companyCode: SL_IT
                    platformCode: STORES
                    platformDashCode: STORES
                    currencyCode: BIF
                    issuedOn: '2022-09-01'
                    issuedYear: 2022
                    issuedNumber: '95741'
                    approvedOn: '2022-09-01'
                    amount: 258.33
                    paid: false
                    vatCode: MINIMUM
                    withheldCode: NONE
                    pensionName: INPS
                    vatAmount: 0.0
                    pensionAmount: 9.94
                    withheldAmount: 0.0
                    paymentFeeAmount: 0.0
                    totalAmount: 256.33
                    companyInfo: 
                    approved:
                      by: e39a8ae6-4101-460f-bde7-5a393e0da380
                      'on': '2022-09-01'
                      httpHeaders:
                        remoteIp: 127.0.0.1
                    sumAmountsByPeriods:
                    - periodCode: 2015-12
                      sumAmount: 716.38
                    estimatedPaymentOn: '2022-10-31'
                    payments: []
                    rows:
                    - amount: 716.38
                      originalAmount: 501.466
                      fxRate: 1.613
                      copyrightInfringement: false
                      itemType:
                        code: EBOOK
                      contract:
                        code: NARCISSUS
                        name: Narcissus
                      currency:
                        code: MDL
                        symbol: 
                        name: Leu moldavo
                        description: Leu moldavo
                      store:
                        code: '86'
                        name: FOYLESSTORE
                        description: www.foyles.co.uk/ebooks
                      period:
                        code: 2015-12
                        name: 2015-12
                        description: 
                        startOn: '2015-12-01'
                        endOn: '2015-12-31'
                      sbfProduct:
                        code: STREETLIB
                        name: SELL
                      publisher:
                        pid: '1'
                        name: eveniet
                        description: Facilis incidunt quis consequatur.
                      note: 
                    footer:
                      vatModeCode: 
                      withheldModeCode: 
                      pensionModeCode: 
                      pension:
                        code: INPS
                        amount: 9.94
                        taxableAmount: 248.39
                        totalAmount: 258.33
                        formula: INPS
                      vat:
                        code: MINIMUM
                        rateCode: '22'
                        taxableAmount: 258.33
                        formula: IVA 22%
                        amount: 0.0
                        message: Operazione rientrante nel regime dei minimi di cui
                          al DL 98/2011 - Ritenuta non applicabile - Reddito assoggettato
                          ad imposta sostitutiva
                      withheld:
                        code: NONE
                        amount: 0.0
                        taxableAmount: 258.33
                        formula: Nessuna
                      paymentFee:
                        amount: 0.0
                        paymentMethodCode: SEPA
                      stamp:
                        code: '2.00'
                        amount: 2.0
                        name: Bollo da 2.00â¬
                      paymentSummary:
                        paymentMethodCode: SEPA
                        name: Asia Carter
                        recipient:
                          description: iban
                          value: IT02B66083758727SV600324Z3H
                      documentLabel: fattura
                      totalAmount: 258.33
                      dueAmount: 258.33
                      toPayAmount: 256.33
                    timeline:
                    - code: DRAFT
                      label: Bozza
                      completeOn: '2022-09-01'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: APPROVED
                      label: Approvato
                      completeOn: '2022-09-01'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: PAID
                      label: Pagato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                    - code: REFUND
                      label: Rimborsato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                  relationships:
                    billingProfile:
                      data:
                        id: d477d72e-23d3-4841-8b88-3de88395229c
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e39a8ae6-4101-460f-bde7-5a393e0da380/billingProfiles/d477d72e-23d3-4841-8b88-3de88395229c
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e39a8ae6-4101-460f-bde7-5a393e0da380/invoiceDocuments/0a28921b-1f2a-45a6-a288-0a239a0651fc
                    downloadPdf: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e39a8ae6-4101-460f-bde7-5a393e0da380/invoiceDocuments/0a28921b-1f2a-45a6-a288-0a239a0651fc/download/pdf
                    downloadAnalyticsReport: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e39a8ae6-4101-460f-bde7-5a393e0da380/invoiceDocuments/0a28921b-1f2a-45a6-a288-0a239a0651fc/analyticsReport/xslx
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_payable_draft:approve_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_payable_draft non trovato
                  detail: invoice_payable_draft non trovato con il parametro id (invalid)
                  type: bill:invoice_payable_draft:approve_chainer:invoice_payable_draft:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '406':
          description: generic error validation
          content:
            application/json:
              example:
                errors:
                - title: billing_profile_pid non fornito
                  detail: Parametro billing_profile_pid non fornito o lasciato vuoto
                  type: bill:invoice_payable_draft:approve:check:params:billing_profile_pid:empty
                  status: 406
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_payable_draft:approve_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                invoicePayable:
                  type: object
                  properties:
                    approvedBy:
                      type: string
                      nullable: true
                      description: "A user/admin PID \U0001F512"
                    approvedOn:
                      type: string
                      format: date
                    issuedNumber:
                      type: string
                    sectionalCode:
                      type: string
                      nullable: true
                    billingProfilePid:
                      type: string
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/download/{ext}":
    get:
      summary: get link to pdf of invoice document
      tags:
      - Invoices
      description: get link to download pdf of invoice document
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      - name: ext
        in: path
        required: true
        description: format of download (pdf)
        schema:
          type: string
      responses:
        '200':
          description: pdf link found (or empty)
          content:
            application/json:
              example:
                response: http://localhost:4566/bill-test-bucket/bill/external_invoices/sell/2015/12/20151231_2_STREETLIB.pdf?response-content-disposition=attachment%3B%20filename%3D20151231_2_STREETLIB.pdf&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=test%2F20221230%2Feu-west-1%2Fs3%2Faws4_request&X-Amz-Date=20221230T081539Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=a79c15a0ce84bc2070ca29751a3d29938a1ce74067a96d61d6a810600e84f41c
              schema:
                type: object
                properties:
                  response:
                    type: string
                    nullable: true
                    description: signed url to AWS S3 resource
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:download_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_document non trovato
                  detail: invoice_document non trovato con il parametro invoice_document_pid
                    (invalid)
                  type: bill:invoice_document:download_element_chainer:invoice_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:download_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/passiveApproved":
    get:
      summary: get PASSIVE APPROVED invoice document details
      tags:
      - Invoices
      description: |-
        â ï¸ WARNING: The alias endpoint terminating with <code>/passive_approved</code>
                is only for describing the example response,<br>for real situation use the
                canonical endpoint: <code>/api/v4/customers/{customer_pid}/invoiceDocuments/{pid}</code>
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      responses:
        '200':
          description: invoice PASSIVE APPROVED found
          content:
            application/json:
              example:
                data:
                  id: af4bccd3-c327-4a53-a0f3-a0be962fd59b
                  type: bill::InvoicePayable
                  attributes:
                    customerPid: 6196acec-0eb4-46bd-a844-6a8338c44bf0
                    typologyCode: PASSIVE
                    status: APPROVED
                    companyCode: SL_US
                    platformCode: STREETLIB
                    platformDashCode: SELL
                    currencyCode: WST
                    issuedOn: '2021-07-31'
                    issuedYear: 2021
                    issuedNumber: 2021-07-31 1 STREETLIB
                    approvedOn: '2021-08-07'
                    amount: 759.65
                    paid: false
                    vatCode: AUTO
                    withheldCode: WW_4 (BE004)
                    pensionName: INPS
                    vatAmount: 54.91
                    pensionAmount: 987.55
                    withheldAmount: 607.72
                    paymentFeeAmount: 303.86
                    totalAmount: -99.0200000000001
                    companyInfo: 
                    approved:
                      by: Fr. Mauricio Flatley
                      'on': '2021-08-07'
                      httpHeaders:
                        httpConnection: keep-alive
                        passengerUser: alpha
                        scgi: '1'
                    sumAmountsByPeriods:
                    - periodCode: 2016-11
                      sumAmount: 649.15
                    - periodCode: 2021-05
                      sumAmount: 927.88
                    estimatedPaymentOn: 
                    payments: []
                    rows:
                    - amount: 649.15
                      originalAmount: 454.405
                      fxRate: 7.398
                      copyrightInfringement: false
                      itemType:
                        code: AUDIOBOOK
                      contract:
                        code: STREETLIB
                        name: StreetLib
                      currency:
                        code: FKP
                        symbol: 
                        name: Falkland Isole, Pounds
                        description: Falkland Isole, Pounds
                      store:
                        code: '112'
                        name: PERUBOOKSTORE
                        description: perubookstore.com
                      period:
                        code: 2016-11
                        name: 2016-11
                        description: 
                        startOn: '2016-11-01'
                        endOn: '2016-11-30'
                      sbfProduct:
                        code: STEALTH
                        name: PUBLISH
                      publisher:
                        pid: '7'
                        name: et
                        description: Quasi velit commodi ex.
                      note: 
                    - amount: 927.88
                      originalAmount: 649.516
                      fxRate: 6.377
                      copyrightInfringement: false
                      itemType:
                        code: AUDIOBOOK
                      contract:
                        code: STREETLIB
                        name: StreetLib
                      currency:
                        code: ANG
                        symbol: 
                        name: Antille Olandesi, Fiorini Olandesi
                        description: Antille Olandesi, Fiorini Olandesi
                      store:
                        code: '100'
                        name: YOUCANPRINTSTORE
                        description: youcanprint.it
                      period:
                        code: 2021-05
                        name: 2021-05
                        description: 
                        startOn: '2021-05-01'
                        endOn: '2021-05-31'
                      sbfProduct:
                        code: STREETLIB
                        name: SELL
                      publisher:
                        pid: '6'
                        name: omnis
                        description: Culpa consequatur ut blanditiis.
                      note: 
                    footer:
                      vatModeCode: 
                      withheldModeCode: 
                      pensionModeCode: 
                      pension:
                        code: INPS
                        amount: 29.22
                        taxableAmount: 730.43
                        totalAmount: 759.65
                        formula: INPS
                      vat:
                        code: AUTO
                        rateCode: '22'
                        taxableAmount: 759.65
                        formula: IVA 22%
                        amount: 0.0
                        message: Determinata automaticamente da BILL
                      withheld:
                        code: WW_4
                        amount: 30.386
                        taxableAmount: 759.65
                        formula: 4%
                      paymentFee:
                        amount: 303.86
                        paymentMethodCode: SEPA
                      stamp:
                        code: 
                        amount: 0.0
                        name: 
                      paymentSummary:
                        paymentMethodCode: SEPA
                        name: Pres. Malcom Berge
                        recipient:
                          description: iban
                          value: IT37H28736069727H691736KW65
                      documentLabel: fattura
                      totalAmount: 759.65
                      dueAmount: 729.264
                      toPayAmount: 425.404
                    timeline:
                    - code: DRAFT
                      label: Bozza
                      completeOn: '2022-12-09'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: APPROVED
                      label: Approvato
                      completeOn: '2021-08-07'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: PAID
                      label: Pagato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                    - code: REFUND
                      label: Rimborsato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                  relationships:
                    billingProfile:
                      data:
                        id: 7a5d0272-c7ef-43d8-a206-eb184303b5e1
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/6196acec-0eb4-46bd-a844-6a8338c44bf0/billingProfiles/7a5d0272-c7ef-43d8-a206-eb184303b5e1
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/6196acec-0eb4-46bd-a844-6a8338c44bf0/invoiceDocuments/af4bccd3-c327-4a53-a0f3-a0be962fd59b
                    downloadPdf: https://api-gw-staging.streetlib.com/public/bill/v4/customers/6196acec-0eb4-46bd-a844-6a8338c44bf0/invoiceDocuments/af4bccd3-c327-4a53-a0f3-a0be962fd59b/download/pdf
                    downloadAnalyticsReport: https://api-gw-staging.streetlib.com/public/bill/v4/customers/6196acec-0eb4-46bd-a844-6a8338c44bf0/invoiceDocuments/af4bccd3-c327-4a53-a0f3-a0be962fd59b/analyticsReport/xslx
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:read_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_document non trovato
                  detail: invoice_document non trovato con il parametro pid (invalid)
                  type: bill:invoice_document:read_element_chainer:invoice_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/{pid}/passiveDraft":
    get:
      summary: get PASSIVE DRAFT invoice document details
      tags:
      - Invoices
      description: |-
        â ï¸ WARNING: The alias endpoint terminating with <code>/passive_draft</code>
                is only for describing the example response,<br>for real situation use the
                canonical endpoint: <code>/api/v4/customers/{customer_pid}/invoiceDocuments/{pid}</code>
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: invoice document public identifier
        schema:
          type: string
      - name: issuable_on
        in: query
        description: date when invoice is issuable
        format: date
        schema:
          type: string
      - name: billing_profile_pid
        in: query
        description: billing_profile public identifier
        format: uuid
        schema:
          type: string
      responses:
        '200':
          description: invoice PASSIVE DRAFT found
          content:
            application/json:
              example:
                data:
                  id: 48f24615-227c-4dc0-9769-c5600f36a12b
                  type: bill::InvoicePayableDraft
                  attributes:
                    customerPid: e51bd134-7072-4dfc-82c5-0bdfab640c4e
                    typologyCode: PASSIVE
                    status: DRAFT
                    companyCode: SL_IT
                    platformCode: PRINT
                    platformDashCode: PRINT
                    currencyCode: VUV
                    minIssuableOn: '2022-12-29'
                    issuableOn: '2022-12-29'
                    issuableNumber: '75097'
                    approvedOnSelector:
                      from: '2022-12-29'
                      to: '2023-01-10'
                    companyInfo: 
                    amount: 228.88
                    sumAmountsByPeriods:
                    - periodCode: 2014-09
                      sumAmount: 264.94
                    - periodCode: 2021-10
                      sumAmount: 204.36
                    permissions:
                      canArchive: false
                      canDelete: true
                    rows:
                    - amount: 264.94
                      originalAmount: 185.458
                      fxRate: 2.406
                      copyrightInfringement: false
                      itemType:
                        code: PAPER
                      contract:
                        code: NARCISSUS
                        name: Narcissus
                      currency:
                        code: CVE
                        symbol: 
                        name: Escudo di Capo Verde
                        description: Escudo di Capo Verde
                      store:
                        code: '34'
                        name: EBOOKVANILLASTORE
                        description: ebookvanilla.it
                      period:
                        code: 2014-09
                        name: 2014-09
                        description: 
                        startOn: '2014-09-01'
                        endOn: '2014-09-30'
                      sbfProduct:
                        code: STEALTH
                        name: PUBLISH
                      publisher:
                        pid: '9'
                        name: ab
                        description: Et facilis quae commodi.
                      note: 
                    - amount: 204.36
                      originalAmount: 143.052
                      fxRate: 7.123
                      copyrightInfringement: false
                      itemType:
                        code: EBOOK
                      contract:
                        code: NARCISSUS
                        name: Narcissus
                      currency:
                        code: THB
                        symbol: 
                        name: Baht thailandese
                        description: Baht thailandese
                      store:
                        code: '28'
                        name: SPEEDYBOOKSTORE
                        description: speedybook.it
                      period:
                        code: 2021-10
                        name: 2021-10
                        description: 
                        startOn: '2021-10-01'
                        endOn: '2021-10-31'
                      sbfProduct:
                        code: STEALTH
                        name: PUBLISH
                      publisher:
                        pid: '8'
                        name: fugit
                        description: Optio consequatur quas eligendi.
                      note: 
                    footer:
                      vatModeCode: NORMAL
                      withheldModeCode: NONE
                      pensionModeCode: NONE
                      pension:
                        code: NONE
                        amount: 0.0
                        taxableAmount: 228.88
                        totalAmount: 228.88
                        formula: 
                      vat:
                        code: NORMAL
                        rateCode: '4'
                        taxableAmount: 228.88
                        formula: IVA 4%
                        amount: 9.1552
                        message: 
                      withheld:
                        code: NONE
                        amount: 0.0
                        taxableAmount: 228.88
                        formula: Nessuna
                      paymentFee:
                        amount: 0.0
                        paymentMethodCode: SEPA
                      stamp:
                        code: 
                        amount: 0.0
                        name: 
                      paymentSummary:
                        paymentMethodCode: SEPA
                        name: Luna Hettinger
                        recipient:
                          description: iban
                          value: IT09N1100681364E828VCPPH3ET
                      documentLabel: fattura
                      totalAmount: 238.0352
                      dueAmount: 238.0352
                      toPayAmount: 238.0352
                    timeline:
                    - code: DRAFT
                      label: Bozza
                      completeOn: '2022-12-29'
                      status:
                        code: COMPLETED
                        label: Completato
                    - code: APPROVED
                      label: Approvato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                    - code: PAID
                      label: Pagato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                    - code: REFUND
                      label: Rimborsato
                      completeOn: 
                      status:
                        code: PENDING
                        label: Da completare
                  relationships:
                    billingProfile:
                      data:
                        id: 11bd7f22-ba6c-49ba-a200-3f2abed38226
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e51bd134-7072-4dfc-82c5-0bdfab640c4e/billingProfiles/11bd7f22-ba6c-49ba-a200-3f2abed38226
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e51bd134-7072-4dfc-82c5-0bdfab640c4e/invoiceDocuments/48f24615-227c-4dc0-9769-c5600f36a12b
                    downloadAnalyticsReport: https://api-gw-staging.streetlib.com/public/bill/v4/customers/e51bd134-7072-4dfc-82c5-0bdfab640c4e/invoiceDocuments/48f24615-227c-4dc0-9769-c5600f36a12b/analyticsReport/xslx
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:read_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: invoice_document non trovato
                  detail: invoice_document non trovato con il parametro pid (invalid)
                  type: bill:invoice_document:read_element_chainer:invoice_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments":
    get:
      summary: get invoice documents list
      tags:
      - Invoices
      description: |-
        Invoice documents list, items inside data can be documents of
                different typology (active, passive draft, passive archive)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: typology_code
        in: query
        required: false
        description: invoice typology code
        schema:
          type: string
          enum:
          - PASSIVE
          - ACTIVE
      - name: status
        in: query
        required: false
        description: invoice status code
        schema:
          type: string
          enum:
          - DRAFT
          - APPROVED
          - PAID
      - name: platform
        in: query
        required: false
        description: invoice platform code
        schema:
          type: string
          enum:
          - STEALTH
          - STREETLIB
          - PRINT
          - STORES
          - MARKET
          - WRITE
      - name: company
        in: query
        required: false
        description: company code
        schema:
          type: string
          enum:
          - SL_IT
          - SL_US
      - name: currency
        in: query
        required: false
        description: currency code
        schema:
          type: string
          enum:
          - EUR
          - USD
          - BRL
          - MXN
          - JPY
          - NZD
          - DKK
          - NOK
          - SEK
          - AUD
          - GBP
          - CHF
          - CAD
          - TRY
          - AED
          - AFN
          - ALL
          - AMD
          - ANG
          - AOA
          - ARS
          - AWG
          - AZN
          - BAM
          - BBD
          - BDT
          - BGN
          - BHD
          - BIF
          - BMD
          - BND
          - BOB
          - BSD
          - BTN
          - BWP
          - BYR
          - BZD
          - CDF
          - CLP
          - CNY
          - COP
          - CRC
          - CUC
          - CUP
          - CVE
          - CYP
          - CZK
          - DJF
          - DOP
          - DZD
          - EEK
          - EGP
          - ERN
          - ETB
          - FJD
          - FKP
          - GEL
          - GGP
          - GHC
          - GIP
          - GMD
          - GNF
          - GTQ
          - GYD
          - HKD
          - HNL
          - HRK
          - HTG
          - HUF
          - IDR
          - ILS
          - IMP
          - INR
          - IQD
          - IRR
          - ISK
          - JEP
          - JMD
          - JOD
          - KES
          - KGS
          - KHR
          - KMF
          - KPW
          - KRW
          - KWD
          - KYD
          - KZT
          - LAK
          - LBP
          - LKR
          - LRD
          - LSL
          - LTL
          - LVL
          - LYD
          - MAD
          - MDL
          - MGA
          - MKD
          - MMK
          - MNT
          - MOP
          - MRO
          - MTL
          - MUR
          - MVR
          - MWK
          - MYR
          - MZN
          - NAD
          - NGN
          - NIO
          - NPR
          - OMR
          - PAB
          - PEN
          - PGK
          - PHP
          - PKR
          - PLN
          - PYG
          - QAR
          - ROL
          - RON
          - RSD
          - RUB
          - RWF
          - SAR
          - SBD
          - SCR
          - SDG
          - SGD
          - SHP
          - SLL
          - SOS
          - SRD
          - STD
          - SVC
          - SYP
          - SZL
          - THB
          - TJS
          - TMM
          - TND
          - TOP
          - TTD
          - TVD
          - TWD
          - TZS
          - UAH
          - UGX
          - UYU
          - UZS
          - VEB
          - VND
          - VUV
          - WST
          - XAF
          - XCD
          - XOF
          - XPD
          - XPF
          - XPT
          - YER
          - ZAR
          - ZMK
          - ZWD
          - ZWL
          - BOV
          - CHE
          - CHW
          - CLF
          - COU
          - MXV
          - USN
          - USS
          - XAG
          - XAU
          - XBA
          - XBB
          - XBC
          - XBD
          - XDR
          - XTS
          - XXX
          - GHS
      - name: ref_date_from
        in: query
        required: false
        description: initial ref_date to filter
        schema:
          type: string
      - name: ref_date_to
        in: query
        required: false
        description: final ref_date to filter
        schema:
          type: string
      - name: order_by
        in: query
        required: false
        description: |-
          order by field(s) and direction(s) <br>
                          available fields: customer_pid, typology_code, status, platform, company, currency, ref_date, ref_number, ref_year, and amount<br>
                          example with one field: <code>ref_number:asc</code> <br>
                          example with multiple fields: <code>ref_number:asc,amount:desc</code>
        default: ref_date:desc
        schema:
          type: string
      - name: page
        in: query
        required: false
        description: page to display
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: per_page
        in: query
        required: false
        description: items per page
        schema:
          type: integer
          default: 10
          maximum: 100
      responses:
        '200':
          description: invoices found
          content:
            application/json:
              example:
                data:
                - id: a6b90b55-5505-4347-9dd1-bdd1788f3881
                  type: bill::InvoiceDocument
                  attributes:
                    platformCode: STREETLIB
                    platformDashCode: SELL
                    typologyCode: PASSIVE
                    amount: 879.74
                    currencyCode: XBA
                    customerPid: aa5712e4-5f52-4a1a-a57b-8fb739838539
                    productCode: STREETLIB
                    status: DRAFT
                    issuedOn: '2022-12-16'
                    companyCode: SL_US
                    sumAmountsByPeriods:
                    - periodCode: 2020-03
                      sumAmount: 417.36
                    issuableOn: '2022-12-16'
                    minIssuableOn: '2022-12-16'
                  relationships:
                    billingProfile:
                      data: 
                      links:
                        related: 
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/invoiceDocuments/a6b90b55-5505-4347-9dd1-bdd1788f3881
                - id: 73956ad3-bcf0-4a52-928a-dea10040ead0
                  type: bill::InvoiceDocument
                  attributes:
                    platformCode: STORES
                    platformDashCode: STORES
                    typologyCode: PASSIVE
                    amount: 554.52
                    currencyCode: KMF
                    customerPid: aa5712e4-5f52-4a1a-a57b-8fb739838539
                    productCode: NARCISSUS
                    status: APPROVED
                    issuedOn: '2021-04-30'
                    issuedNumber: 2021-04-30 2 STREETLIB
                    issuedYear: 2021
                    vatAmount: 26.08
                    pensionAmount: 720.88
                    withheldAmount: 443.62
                    companyCode: SL_IT
                    sumAmountsByPeriods:
                    - periodCode: 2016-01
                      sumAmount: 525.79
                    estimatedPaymentOn: 
                    totalAmount: 634.05
                    sectionalCode: PRINT
                    approvedOn: '2021-05-10'
                    paymentFeeAmount: 221.81
                    payments: []
                    isApproved: true
                    paid: false
                    paidOn: 
                  relationships:
                    billingProfile:
                      data:
                        id: b1c37df9-8b76-4083-8cca-7dfffc2dc658
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/billingProfiles/b1c37df9-8b76-4083-8cca-7dfffc2dc658
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/invoiceDocuments/73956ad3-bcf0-4a52-928a-dea10040ead0
                - id: 271d83aa-fc36-4352-8f44-d73ea87994d3
                  type: bill::InvoiceDocument
                  attributes:
                    platformCode: PRINT
                    platformDashCode: PRINT
                    typologyCode: ACTIVE
                    amount: 110.22
                    currencyCode: GTQ
                    customerPid: aa5712e4-5f52-4a1a-a57b-8fb739838539
                    productCode: 
                    status: APPROVED
                    issuedOn: '2020-09-30'
                    issuedNumber: 3/STREETLIB
                    issuedYear: 2020
                    vatAmount: 18.37
                    totalAmount: 110.22
                    sectionalCode: REV
                    paidAmount: 110.22
                    paymentMethodCode: BRAINTREE
                  relationships:
                    billingProfile:
                      data:
                        id: ff980c40-b51b-497b-a43c-7db91a8b822d
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/billingProfiles/ff980c40-b51b-497b-a43c-7db91a8b822d
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/invoiceDocuments/271d83aa-fc36-4352-8f44-d73ea87994d3
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 10
                  totalPages: 1
                  totalCount: 3
                  generalCounters:
                    typology:
                      activeCount: 1
                      passiveCount: 2
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/aa5712e4-5f52-4a1a-a57b-8fb739838539/invoiceDocuments?page=1&status=
                  next: 
                  prev: 
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      properties:
                        id:
                          type: string
                          format: uuid
                        type:
                          type: string
                        attributes:
                          type: object
                          properties:
                            typologyCode:
                              type: string
                            sectionalCode:
                              type: string
                              nullable: true
                            currencyCode:
                              type: string
                            companyCode:
                              type: string
                            platformCode:
                              type: string
                            refDate:
                              type: string
                              format: date
                            refYear:
                              type: integer
                              format: int32
                              nullable: true
                            refNumber:
                              type: string
                              nullable: true
                            amount:
                              type: number
                              format: float
                            status:
                              type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: link to record detail
                  meta:
                    type: object
                    properties:
                      pageNumber:
                        type: object
                        properties:
                          current:
                            type: integer
                            format: int32
                            default: 1
                          previous:
                            type: integer
                            format: int32
                            nullable: true
                          next:
                            type: integer
                            format: int32
                            nullable: true
                      perPage:
                        type: integer
                        format: int32
                      totalPages:
                        type: integer
                        format: int32
                      totalCount:
                        type: integer
                        format: int32
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: link to current page
                      next:
                        type: string
                        nullable: true
                        description: link to next page
                      prev:
                        type: string
                        nullable: true
                        description: link to previous page
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: customer non trovato
                  detail: customer non trovato con il parametro customer_pid (invalid)
                  type: bill:invoice_document:list_by_customer_deserializer:customer:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/invoiceDocuments/summary":
    get:
      summary: get invoice documents summary
      tags:
      - Invoices
      description: |-
        Invoice documents summary, keys inside data resume informations
               about last invoices)
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      responses:
        '200':
          description: invoices found
          content:
            application/json:
              example:
                data:
                  id: 
                  type: 
                  attributes:
                    balanceAvailable:
                      currency: EUR
                      amount: 0.0
                    totalEarned:
                      currency: EUR
                      amount: 459.76
                    lastEarned:
                      currency: EUR
                      amount: 0.0
                      percentageDiff: 
                    temporaryRevenuesNotBilled:
                      currency: EUR
                      amount: 0.0
                    nextInvoiceOn: '2023-01-01'
                    estimatedPaymentOn: 
                    invoicingPeriodCode: DISABLED
                    paymentTerm:
                      code: EOM_60
                      name: 60 giorni fine mese
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:invoice_document:summary_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:invoice_document:summary_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/paymentAccounts":
    post:
      summary: create a payment account
      tags:
      - Payment accounts
      description: create a payment account
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      responses:
        '201':
          description: payment account created
          content:
            application/json:
              example:
                data:
                  id: 31110ba9-3a75-4864-b7c7-a70eae280420
                  type: bill::PaymentAccount
                  attributes:
                    pid: 31110ba9-3a75-4864-b7c7-a70eae280420
                    submittedBy: c36eaf38-2170-4cea-8422-3a0c57d4bd27
                    label: Producer
                    status: approved
                    paymentMethodCode: BANK
                    bankName: 
                    ownerName: Brooks Hegmann
                    iban: IT88J42953696723WU2J731MBZU
                    bic: AANLGB21
                    accountNumber: 
                    routingNumber: 
                    paypal: 
                    payoneer: 
                    payoneerInternal: 
                    sureRemitWallet: 
                    sureRemitMemo: 
                    createdAt: '2022-12-30T08:15:41Z'
                    updatedAt: '2022-12-30T08:15:41Z'
                  relationships:
                    billingProfiles:
                      data: []
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/c36eaf38-2170-4cea-8422-3a0c57d4bd27/billingProfiles?paymentAccountPid=31110ba9-3a75-4864-b7c7-a70eae280420
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/c36eaf38-2170-4cea-8422-3a0c57d4bd27/paymentAccounts/31110ba9-3a75-4864-b7c7-a70eae280420
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:payment_account:create_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '422':
          description: generic error validation
          content:
            application/json:
              example:
                errors:
                - title: owner_name
                  detail: Owner name deve essere presente
                  type: bill/payment_account/validate:owner_name:blank
                  status: 422
                  instance: 
                - title: iban
                  detail: Iban deve essere presente
                  type: bill/payment_account/validate:iban:blank
                  status: 422
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_account:create_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentAccount:
                  type: object
                  properties:
                    PaymentMethodCode:
                      type: string
                      enum:
                      - ANY
                      - SEPA
                      - PAYPAL
                      - PAYONEER
                      - MANUAL
                      - ABA
                      - SURE_REMIT
                      - BANK
                      nullable: false
                    label:
                      type: string
                      description: label for identify the account
                    submittedBy:
                      type: string
                      format: uuid
                      nullable: true
                      description: A user/admin PID
                    bankName:
                      type: string
                      nullable: true
                      description: bank name
                    ownerName:
                      type: string
                      nullable: true
                      description: owner name (used for BANK & ABA method)
                    iban:
                      type: string
                      nullable: true
                      description: IBAN number (used for BANK & SEPA method)
                    bic:
                      type: string
                      nullable: true
                      description: BIC/SWIFT number (used for BANK method)
                    paypal:
                      type: string
                      nullable: true
                      description: paypal email (used for PAYPAL method)
                    payoneer:
                      type: string
                      nullable: true
                      description: payoneer ID (used for PAYONEER method)
                    payoneerInternal:
                      type: string
                      nullable: true
                      description: payoneer internal (used for PAYONEER method)
                    accountNumber:
                      type: string
                      nullable: true
                      description: account number (used for ABA method)
                    routingNumber:
                      type: string
                      nullable: true
                      description: routing number (used for ABA method)
                    sureRemitWallet:
                      type: string
                      nullable: true
                      description: Sure remit wallet (used for SURE_REMIT method)
                    sureRemitMemo:
                      type: string
                      nullable: true
                      description: Sure remit memo (used for SURE_REMIT method)
                  required:
                  - label
                  - PaymentMethodCode
    get:
      summary: get payment accounts list
      tags:
      - Payment accounts
      description: Payment accounts list
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: payment_method_code
        in: query
        required: false
        description: payment_method to filter
        schema:
          type: string
          enum:
          - ANY
          - SEPA
          - PAYPAL
          - PAYONEER
          - MANUAL
          - ABA
          - SURE_REMIT
          - BANK
      - name: page
        in: query
        required: false
        description: page to display
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: per_page
        in: query
        required: false
        description: items per page
        schema:
          type: integer
          default: 10
          maximum: 100
      responses:
        '200':
          description: payment accounts found
          content:
            application/json:
              example:
                data:
                - id: 228e262d-aecf-4745-8d40-d520ab43d2f9
                  type: bill::PaymentAccount
                  attributes:
                    pid: 228e262d-aecf-4745-8d40-d520ab43d2f9
                    submittedBy: 28cfe7ec-5d01-426d-886c-b68476c587c2
                    label: Johnie Spinka
                    status: approved
                    paymentMethodCode: SEPA
                    bankName: ABG SUNDAL COLLIER LIMITED
                    ownerName: Lance Gerlach
                    iban: IT02J0173355128Q9B8K5JWH22B
                    bic: 
                    accountNumber: 
                    routingNumber: 
                    paypal: 
                    payoneer: 
                    payoneerInternal: 
                    sureRemitWallet: 
                    sureRemitMemo: 
                    createdAt: '2022-12-30T08:15:42Z'
                    updatedAt: '2022-12-30T08:15:42Z'
                  relationships:
                    billingProfiles:
                      data:
                      - id: f5616a36-9fa8-4404-b82b-b56cfd6168db
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/f09bfafb-8345-4d3f-bbce-4d986e7d9739/billingProfiles?paymentAccountPid=228e262d-aecf-4745-8d40-d520ab43d2f9
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/f09bfafb-8345-4d3f-bbce-4d986e7d9739/paymentAccounts/228e262d-aecf-4745-8d40-d520ab43d2f9
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 10
                  totalPages: 1
                  totalCount: 1
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/f09bfafb-8345-4d3f-bbce-4d986e7d9739/paymentAccounts?page=1
                  next: 
                  prev: 
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:payment_account:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: customer non trovato
                  detail: customer non trovato con il parametro customer_pid (invalid)
                  type: bill:payment_account:read_collection_chainer:customer:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_account:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/paymentAccounts/{pid}":
    delete:
      summary: delete a payment account
      tags:
      - Payment accounts
      description: delete an existing payment account
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: payment account public identifier
        schema:
          type: string
      responses:
        '204':
          description: payment account deleted
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:payment_account:delete_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '423':
          description: locked
          content:
            application/json:
              example:
                errors:
                - title: Conto in uso
                  detail: Conto in uso in uno o piÃ¹ profili di fatturazione
                  type: bill:payment_account:delete:used_in_billing_profiles
                  status: 423
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_account:delete_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
    get:
      summary: get payment account details
      tags:
      - Payment accounts
      description: Payment account details
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: payment account public identifier
        schema:
          type: string
      responses:
        '200':
          description: payment account found
          content:
            application/json:
              example:
                data:
                  id: 0074dc38-32ba-4319-a0e4-b3102c5c2ed9
                  type: bill::PaymentAccount
                  attributes:
                    pid: 0074dc38-32ba-4319-a0e4-b3102c5c2ed9
                    submittedBy: 2d200ae9-eb49-4103-98cf-ab1841a4023d
                    label: Leigh McDermott
                    status: failed
                    paymentMethodCode: SEPA
                    bankName: ABN AMRO MEZZANINE (UK) LIMITED
                    ownerName: Margit Hagenes
                    iban: IT15W7137835918GGWE4M28LS92
                    bic: 
                    accountNumber: 
                    routingNumber: 
                    paypal: 
                    payoneer: 
                    payoneerInternal: 
                    sureRemitWallet: 
                    sureRemitMemo: 
                    createdAt: '2022-12-30T08:15:42Z'
                    updatedAt: '2022-12-30T08:15:42Z'
                  relationships:
                    billingProfiles:
                      data:
                      - id: 80b2eafa-ba27-4c4a-b90d-0d5925f56fec
                        type: bill::BillingProfile
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/1e71c4b2-e78a-4d7a-9543-71a6556e8924/billingProfiles?paymentAccountPid=0074dc38-32ba-4319-a0e4-b3102c5c2ed9
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/1e71c4b2-e78a-4d7a-9543-71a6556e8924/paymentAccounts/0074dc38-32ba-4319-a0e4-b3102c5c2ed9
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:payment_account:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: payment_account non trovato
                  detail: payment_account non trovato con il parametro pid (invalid)
                  type: bill:payment_account:read_element_chainer:payment_account:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_account:read_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
    patch:
      summary: update a payment account
      tags:
      - Payment accounts
      description: update an existing payment account
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: payment account public identifier
        schema:
          type: string
      responses:
        '200':
          description: payment account updated
          content:
            application/json:
              example:
                data:
                  id: 261b5514-3751-49e1-b2bc-380162f46df7
                  type: bill::PaymentAccount
                  attributes:
                    pid: 261b5514-3751-49e1-b2bc-380162f46df7
                    submittedBy: e4eafe31-f4dd-46bb-87fe-7b586199e29a
                    label: AAC CAPITAL PARTNERS LIMITED
                    status: approved
                    paymentMethodCode: BANK
                    bankName: ABC INTERNATIONAL BANK PLC
                    ownerName: Frances Balistreri
                    iban: IT75O672117905894UP139475L2
                    bic: BARBGB2LMAN
                    accountNumber: 
                    routingNumber: 
                    paypal: 
                    payoneer: 
                    payoneerInternal: 
                    sureRemitWallet: 
                    sureRemitMemo: 
                    createdAt: '2022-12-30T08:15:42Z'
                    updatedAt: '2022-12-30T08:15:42Z'
                  relationships:
                    billingProfiles:
                      data: []
                      links:
                        related: https://api-gw-staging.streetlib.com/public/bill/v4/customers/2ed63c4a-71e4-408c-8cee-43e96768cf95/billingProfiles?paymentAccountPid=261b5514-3751-49e1-b2bc-380162f46df7
                  links:
                    self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/2ed63c4a-71e4-408c-8cee-43e96768cf95/paymentAccounts/261b5514-3751-49e1-b2bc-380162f46df7
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:payment_account:update_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_account:update_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentAccount:
                  type: object
                  properties:
                    PaymentMethodCode:
                      type: string
                      enum:
                      - ANY
                      - SEPA
                      - PAYPAL
                      - PAYONEER
                      - MANUAL
                      - ABA
                      - SURE_REMIT
                      - BANK
                      nullable: false
                    label:
                      type: string
                      description: label for identify the account
                    submittedBy:
                      type: string
                      format: uuid
                      nullable: true
                      description: A user/admin PID
                    bankName:
                      type: string
                      nullable: true
                      description: bank name
                    ownerName:
                      type: string
                      nullable: true
                      description: owner name (used for BANK & ABA method)
                    iban:
                      type: string
                      nullable: true
                      description: IBAN number (used for BANK & SEPA method)
                    bic:
                      type: string
                      nullable: true
                      description: BIC/SWIFT number (used for BANK method)
                    paypal:
                      type: string
                      nullable: true
                      description: paypal email (used for PAYPAL method)
                    payoneer:
                      type: string
                      nullable: true
                      description: payoneer ID (used for PAYONEER method)
                    payoneerInternal:
                      type: string
                      nullable: true
                      description: payoneer internal (used for PAYONEER method)
                    accountNumber:
                      type: string
                      nullable: true
                      description: account number (used for ABA method)
                    routingNumber:
                      type: string
                      nullable: true
                      description: routing number (used for ABA method)
                    sureRemitWallet:
                      type: string
                      nullable: true
                      description: Sure remit wallet (used for SURE_REMIT method)
                    sureRemitMemo:
                      type: string
                      nullable: true
                      description: Sure remit memo (used for SURE_REMIT method)
                  required: []
  "/v4/paymentMethods":
    get:
      summary: get payment methods list
      tags:
      - Entities
      description: Payment methods list, can be filtered by param <i>companyCode</i>
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: company_code
        in: query
        required: false
        description: company code
        schema:
          type: string
          enum:
          - SL_IT
          - SL_US
      responses:
        '200':
          description: payment methods found
          content:
            application/json:
              example:
                data:
                - id: SEPA
                  type: bill::PaymentMethod
                  attributes:
                    code: SEPA
                    name: Bonifico Bancario SEPA
                    companyCodes:
                    - SL_IT
                - id: PAYPAL
                  type: bill::PaymentMethod
                  attributes:
                    code: PAYPAL
                    name: PayPal
                    companyCodes:
                    - SL_IT
                    - SL_US
                - id: PAYONEER
                  type: bill::PaymentMethod
                  attributes:
                    code: PAYONEER
                    name: Payoneer
                    companyCodes:
                    - SL_US
                - id: ABA
                  type: bill::PaymentMethod
                  attributes:
                    code: ABA
                    name: Bonifico Bancario US
                    companyCodes:
                    - SL_US
                - id: BANK
                  type: bill::PaymentMethod
                  attributes:
                    code: BANK
                    name: Bonifico Bancario Internazionale
                    companyCodes:
                    - SL_IT
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 5
                  totalPages: 1
                  totalCount: 5
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/paymentMethods?page=1
                  next: 
                  prev: 
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      properties:
                        id:
                          type: string
                          format: uuid
                        type:
                          type: string
                        attributes:
                          type: object
                          properties:
                            code:
                              type: string
                            name:
                              type: string
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: link to record detail
                  meta:
                    type: object
                    properties:
                      pageNumber:
                        type: object
                        properties:
                          current:
                            type: integer
                            format: int32
                            default: 1
                          previous:
                            type: integer
                            format: int32
                            nullable: true
                          next:
                            type: integer
                            format: int32
                            nullable: true
                      perPage:
                        type: integer
                        format: int32
                      totalPages:
                        type: integer
                        format: int32
                      totalCount:
                        type: integer
                        format: int32
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: link to current page
                      next:
                        type: string
                        nullable: true
                        description: link to next page
                      prev:
                        type: string
                        nullable: true
                        description: link to previous page
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:payment_method:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/misc/payoneer/checkPayee":
    get:
      summary: Payoneer payee status
      tags:
      - Misc
      description: Get Payoneer payee status
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: payeeIdentifier
        in: query
        description: Payee identifier
        schema:
          type: string
      responses:
        '200':
          description: Payee found
          content:
            application/json:
              example:
                response: true
              schema:
                type: object
                properties:
                  result:
                    type: string
        '400':
          description: pending status
          content:
            application/json:
              example:
                errors:
                - title: Conto Payoneer in attesa
                  detail: Questo conto Payoneer risulta in attesa di approvazione
                  type: payoneer:check_status:payoneer:status_pending
                  status: 400
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: payee non trovato
                  detail: payee non trovato con il parametro payee_identifier (unexistant@example.com)
                  type: payoneer:check_status:payee:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: payoneer:check_status_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/misc/payoneer/registrationLink":
    post:
      summary: Payoneer registration link
      tags:
      - Misc
      description: Creates a Payoneer registration link
      parameters:
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      responses:
        '201':
          description: Registration link generated
          content:
            application/json:
              example:
                response: https://payouts.sandbox.payoneer.com/partners/lp.aspx?token=5FB9C4B3-2CB0-4D33-87EE-8525485A003D
              schema:
                type: object
                properties:
                  result:
                    type: string
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: payoneer:registration_link_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                registrationLink:
                  type: object
                  properties:
                    payeeIdentifier:
                      type: string
                      nullable: false
                      description: Payee identifier
                    redirectUrl:
                      type: string
                      nullable: true
                    alreadyHaveAnAccount:
                      type: boolean
                      nullable: true
                      default: false
  "/v4/customers/{customer_pid}/taxDocuments":
    post:
      summary: create a tax document
      tags:
      - Tax documents
      description: "Create a tax document<br> In payload attributes, inside description
        there are some icons meaning:\n                   <ul><li>\U0001F310 not US
        country</li><li>\U0001F9D1 individual billing typology</li>\n                   <li>\U0001F3E2
        company billing typology</li></ul>"
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      responses:
        '201':
          description: tax document created
          content:
            application/json:
              example:
                data:
                  id: 8c36cdd6-13bc-4b54-8b8a-a91e1cac5cc6
                  type: bill::TaxDocument
                  attributes:
                    pid: 8c36cdd6-13bc-4b54-8b8a-a91e1cac5cc6
                    companyCode: SL_IT
                    withheldModeCode: INDIVIDUAL
                    taxDocumentTypeCode: W-9
                    name: Form W-9
                    label: Form W-9
                    description: Saepe ea dolor.
                    year: 2022
                    withholdingPct: 20
                    startValidityAt: '2022-12-30T00:00:00Z'
                    endValidityAt: 
                    data: '{"billing_typology_code":"COMPANY","country_code":"US","tin":"940-67-9154","foreign_tin":null,"company_tin":null,"email":"emil@example.org","legal_entity_name":"Wisoky-Balistreri","billing_address":"94954
                      Mraz View","billing_city":"Heathcotemouth","billing_postal_code":"47729","billing_country_sub":"NY","billing_country_code":"US","shipment_required":false,"shipment_address":"+2293330943991","shipment_city":"Scottland","shipment_postal_code":"53549-6859","shipment_country_sub":"NE","shipment_country_code":"US","withheld_mode_code":"INDIVIDUAL","signature_base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAB2AAAAdgFOeyYIAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAiFJREFUOI2VkV1IU3EYxp+zYOk+z8d2zjE3j6JbOifWCHTpLqbQl3M0J5EXEWFU1I1QkZBgddFF3gUVYrCbRkEQdVOUREFEknURSLuIPqxtzB11n56b2k4XTnEy13quXp7/w4/nff8ENshYWzdIM9xlrZbUZTLJ9HI8el2MRR6ijLatDaxJ8He5+6e63YcaHM4e6tTFG7wYC/eKsV/fpGzm8z8B5nprcGT8dsPMswDev3mOxNIC9rj2V899fGtZjEcntwIo1ga1htQSCgUWYjEMHfEj+uUDCBDQ6GhduRXWAankUlqjp+A5PorJuwGQfBOa2zuRSi6mywHWRRk4z8HBYXE69FseHrkqP/2Ulb1DZ0SGqfFVBFiF8H3WVsesbbfzu9XumCUNnHdTpBdAFYC+IpdtZC9wFv4dbabPAyAABErw9QCeADgJ4BUAG1D4BZVOdfTYnRN+k93cHQlF3VJiRVLT6iwjGINV6u07pZQ0DcDV2XXgiqvHd9hm76iPx8OCtJK+rwAAcV68+fLWi3DrvjaVZ7TfSRDEQJPTEvRdG+iQCVlZaPAjn88vt7XvBUWzufyf3FxRP0Zgzu7yOiKXXo/J5A4qcfrBuTxv5UOF6qsZY82Yka39ynKmxwBUpe7YYmzkppTVyp8GwTABgCqRKXWf/woVvSm2CM0DsJfw9QBylTSgATwCULfBIwHcA9BcCQAAeAATBZgNwDiAls2hvyY3nrZ+pDlgAAAAAElFTkSuQmCC","signature_text":"Sherrell
                      Fadel Jr.","signature_font":"PWSignature2"}'
                    formData:
                      billingTypologyCode: COMPANY
                      countryCode: US
                      tin: 940-67-9154
                      foreignTin: 
                      companyTin: 
                      email: emil@example.org
                      legalEntityName: Wisoky-Balistreri
                      billingAddress: 94954 Mraz View
                      billingCity: Heathcotemouth
                      billingPostalCode: '47729'
                      billingCountrySub: NY
                      billingCountryCode: US
                      shipmentRequired: false
                      shipmentAddress: "+2293330943991"
                      shipmentCity: Scottland
                      shipmentPostalCode: 53549-6859
                      shipmentCountrySub: NE
                      shipmentCountryCode: US
                      withheldModeCode: INDIVIDUAL
                      signatureBase64: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAB2AAAAdgFOeyYIAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAiFJREFUOI2VkV1IU3EYxp+zYOk+z8d2zjE3j6JbOifWCHTpLqbQl3M0J5EXEWFU1I1QkZBgddFF3gUVYrCbRkEQdVOUREFEknURSLuIPqxtzB11n56b2k4XTnEy13quXp7/w4/nff8ENshYWzdIM9xlrZbUZTLJ9HI8el2MRR6ijLatDaxJ8He5+6e63YcaHM4e6tTFG7wYC/eKsV/fpGzm8z8B5nprcGT8dsPMswDev3mOxNIC9rj2V899fGtZjEcntwIo1ga1htQSCgUWYjEMHfEj+uUDCBDQ6GhduRXWAankUlqjp+A5PorJuwGQfBOa2zuRSi6mywHWRRk4z8HBYXE69FseHrkqP/2Ulb1DZ0SGqfFVBFiF8H3WVsesbbfzu9XumCUNnHdTpBdAFYC+IpdtZC9wFv4dbabPAyAABErw9QCeADgJ4BUAG1D4BZVOdfTYnRN+k93cHQlF3VJiRVLT6iwjGINV6u07pZQ0DcDV2XXgiqvHd9hm76iPx8OCtJK+rwAAcV68+fLWi3DrvjaVZ7TfSRDEQJPTEvRdG+iQCVlZaPAjn88vt7XvBUWzufyf3FxRP0Zgzu7yOiKXXo/J5A4qcfrBuTxv5UOF6qsZY82Yka39ynKmxwBUpe7YYmzkppTVyp8GwTABgCqRKXWf/woVvSm2CM0DsJfw9QBylTSgATwCULfBIwHcA9BcCQAAeAATBZgNwDiAls2hvyY3nrZ+pDlgAAAAAElFTkSuQmCC
                      signatureText: Sherrell Fadel Jr.
                      signatureFont: PWSignature2
                    formDataValid: true
                    formDataErrors: 
                  links:
                    downloadLink: https://api-gw-staging.streetlib.com/public/bill/v4/customers/02482a58-92df-4fe8-9486-9f96fb8202b4/taxDocuments/8c36cdd6-13bc-4b54-8b8a-a91e1cac5cc6/downloadLink
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:tax_document:create_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '422':
          description: generic error validation
          content:
            application/json:
              example:
                errors:
                - title: year
                  detail: Year deve essere presente
                  type: bill/tax_document/validate:year:blank
                  status: 422
                  instance: 
                - title: year
                  detail: Year non Ã¨ un numero
                  type: bill/tax_document/validate:year:not_a_number
                  status: 422
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:tax_document:create_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                taxDocument:
                  type: object
                  properties:
                    taxDocumentTypeCode:
                      type: string
                      nullable: false
                      enum:
                      - W-9
                      - W-8BEN
                      description: TaxDocumentType code
                    year:
                      type: integer
                      format: int32
                      nullable: false
                      description: document year
                    formData:
                      type: object
                      properties:
                        billingTypologyCode:
                          type: string
                          nullable: false
                          enum:
                          - INDIVIDUAL
                          - COMPANY
                        countryCode:
                          type: string
                          nullable: false
                          format: ISO 3166-1 alpha-2
                        tin:
                          type: string
                          nullable: false
                          description: U.S. Taxpayer Identification Number (TIN)
                        foreignTin:
                          type: string
                          nullable: true
                          description: "Foreign Tax Identification Number \U0001F310"
                        companyTin:
                          type: string
                          nullable: true
                          description: "foreign VAT Number \U0001F310"
                        legalEntityName:
                          type: string
                          nullable: false
                          description: "Legal entity name \U0001F3E2"
                        businessName:
                          type: string
                          nullable: true
                          description: "Business Name / DBA \U0001F3E2"
                        firstName:
                          type: string
                          nullable: false
                          description: "First name \U0001F9D1â"
                        lastName:
                          type: string
                          nullable: false
                          description: "Last name \U0001F9D1"
                        bornOn:
                          type: string
                          nullable: false
                          format: date
                          description: "Date of birth \U0001F9D1"
                        phone:
                          type: string
                          nullable: true
                          format: E.164
                        email:
                          type: string
                          nullable: false
                        billingAddress:
                          type: string
                          nullable: false
                        billingCity:
                          type: string
                          nullable: false
                        billingPostalCode:
                          type: string
                          nullable: false
                        billingCountrySub:
                          type: string
                          format: ISO 3166-2
                          nullable: true
                          description: 'country subdivision code: state, province,
                            region, zone...'
                        billingCountryCode:
                          type: string
                          nullable: false
                          format: ISO 3166-1 alpha-2
                        shipmentRequired:
                          type: boolean
                          description: when true the shipment_* prefixed attributes
                            must provided
                        shipmentAddress:
                          type: string
                          nullable: true
                        shipmentCity:
                          type: string
                          nullable: true
                        shipmentPostalCode:
                          type: string
                          nullable: true
                        shipmentCountrySub:
                          type: string
                          format: ISO 3166-2
                          nullable: true
                          description: 'country subdivision code: state, province,
                            region, zone...'
                        shipmentCountryCode:
                          type: string
                          nullable: true
                          format: ISO 3166-1 alpha-2
                        withheldModeCode:
                          type: string
                          nullable: false
                          enum:
                          - NONE
                          - SIMPLE
                          - SENIOR_35
                          - JUNIOR_35
                          - AUTO
                          - WW_JUNIOR_35
                          - WW_SENIOR_35
                          - WW_4
                          - WW_8
                          - WW_10
                          - WW_15
                          - WW_0
                          - WW_5
                          - WW_12
                          - WW_30
                          - INDIVIDUAL
                          - WW_12_5
                          - WW_20
                        signatureBase64:
                          type: string
                          nullable: true
                          format: base64
                          description: base64 picture of signature
                        signatureText:
                          type: string
                          nullable: true
                          description: text for generate signature
                        signatureFont:
                          type: string
                          nullable: true
                          description: font for generate signature
                  required:
                  - taxDocumentTypeCode
                  - year
    get:
      summary: get tax documents list
      tags:
      - Tax documents
      description: Tax documents list
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: year
        in: query
        required: false
        description: year to filter
        schema:
          type: integer
          pattern: "(?-mix:^(19|20)\\d{2}$)"
      - name: page
        in: query
        required: false
        description: page to display
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: per_page
        in: query
        required: false
        description: items per page
        schema:
          type: integer
          default: 10
          maximum: 100
      responses:
        '200':
          description: tax documents found
          content:
            application/json:
              example:
                data:
                - id: 464f086e-974e-471f-ab13-e5b3fa69fd7f
                  type: bill::TaxDocument
                  attributes:
                    pid: 464f086e-974e-471f-ab13-e5b3fa69fd7f
                    companyCode: SL_US
                    withheldModeCode: 
                    taxDocumentTypeCode: W-8BEN
                    name: Form W-8BEN
                    label: Form W-8BEN
                    description: Facere assumenda autem.
                    year: 2022
                    withholdingPct: 
                    startValidityAt: '2022-02-01T00:00:00Z'
                    endValidityAt: '2022-12-31T00:00:00Z'
                    data: '{"sample_field":"abc"}'
                    formData:
                      sampleField: abc
                    formDataValid: 
                    formDataErrors: 
                  links:
                    downloadLink: 
                meta:
                  pageNumber:
                    current: 1
                    previous: 
                    next: 
                  perPage: 10
                  totalPages: 1
                  totalCount: 1
                links:
                  self: https://api-gw-staging.streetlib.com/public/bill/v4/customers/0a977b65-a84e-45a4-b8b9-79f8b6ab5ba5/taxDocuments?page=1
                  next: 
                  prev: 
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:tax_document:read_collection_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: customer non trovato
                  detail: customer non trovato con il parametro customer_pid (invalid)
                  type: bill:tax_document:read_collection_chainer:customer:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:tax_document:read_collection_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/taxDocuments/{pid}/downloadLink":
    get:
      summary: get link to file download
      tags:
      - Tax documents
      description: get link to file download of tax document
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: tax document public identifier
        schema:
          type: string
      responses:
        '200':
          description: download link found (or empty)
          content:
            application/json:
              example:
                response: 
              schema:
                type: object
                properties:
                  response:
                    type: string
                    nullable: true
                    description: signed url to AWS S3 resource
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:tax_document:download_element_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '404':
          description: item not found
          content:
            application/json:
              example:
                errors:
                - title: tax_document non trovato
                  detail: tax_document non trovato con il parametro pid (invalid)
                  type: bill:tax_document:download_element_chainer:tax_document:not_found
                  status: 404
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:tax_document:download_element_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
  "/v4/customers/{customer_pid}/taxDocuments/{pid}":
    patch:
      summary: update a tax document
      tags:
      - Tax documents
      description: "Create a tax document<br> In payload attributes, inside description
        there are some icons meaning:\n                   <ul><li>\U0001F310 not US
        country</li><li>\U0001F9D1 individual billing typology</li>\n                   <li>\U0001F3E2
        company billing typology</li></ul>"
      parameters:
      - name: X-Internal-Auth
        in: header
        required: true
        description: internal authentication key
        schema:
          type: string
      - name: Accept-Language
        in: header
        description: language code
        default: en
        schema:
          type: string
      - name: customer_pid
        in: path
        required: true
        description: customer public identifier
        schema:
          type: string
      - name: pid
        in: path
        required: true
        description: tax_document public identifier
        schema:
          type: string
      responses:
        '200':
          description: tax document updated
          content:
            application/json:
              example:
                data:
                  id: 9b59cfb9-0467-4410-b583-6e8c4e193277
                  type: bill::TaxDocument
                  attributes:
                    pid: 9b59cfb9-0467-4410-b583-6e8c4e193277
                    companyCode: SL_IT
                    withheldModeCode: 
                    taxDocumentTypeCode: W-8BEN
                    name: Form W-8BEN
                    label: Form W-8BEN
                    description: Et beatae cum.
                    year: 2022
                    withholdingPct: 
                    startValidityAt: '2022-01-14T00:00:00Z'
                    endValidityAt: '2022-12-31T00:00:00Z'
                    data: '{"billing_typology_code":"INDIVIDUAL","country_code":"US","tin":"996-46-4574","foreign_tin":null,"company_tin":null,"legal_entity_name":null,"business_name":null,"first_name":"Libbie","last_name":"McCullough","born_on":"2003-10-22","phone":"+15417544860","email":"quintin@example.org","billing_address":"84181
                      Vicente Knoll","billing_city":"North Dallasmouth","billing_postal_code":"90075","billing_country_sub":"MS","billing_country_code":"US","shipment_required":false,"shipment_address":"+916988991605","shipment_city":"Schoenhaven","shipment_postal_code":"48358-5805","shipment_country_sub":"NV","shipment_country_code":"US","withheld_mode_code":"WW_15","signature_base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJNSURBVDiNhZNdSFNhHMafo5PNnc2zTaenMdO5TdMKC4NlCCsIAoWunBcJIbsIglUXRV2UV13FGFlUIF30MbqKghiF7EYCozBmZW2gbXnWark2z9x0ntM+zulGZVubPZcPz/N73//7AVSXSqFqDAJo3SFTXbTB7LnyZEqgOzrfASCq5WormZSWHrbaxs5aR8bkZAOliSz4C5lVdgYSyREIQuR/i2vMff2hRyFedDM50c3kxN5jg5G6evIC2WxMSVW6kztvvcP0yjkdELbKbiYnOqcDIqXvWj1+a0mk2g4EAVBb+ZrisrpZP2odsR+mDeaSmZ/fvYn99vtUTZ0UPacnDPIW44NKgEZtW9v1oTMX1cXleITByjrAJaMAAOWuzhq10WLB5u1sA2iD2XXq6o32WDhUMlJy+ScImRopZm7bU+j3KADoigHSJn37UZ/XQ+Sz2RLA7p5eCCtBELUSsItvIAp5xHyeOIBPxQCTua+fTMai0HftLQHISAVsjnMgVvzILHjhv2cTudi32wB4AJBs5jQqbYssEWFQSd2WAYxbBrCxlsJX31vizvlRtvwQQ8znuXShkEchn6sIAQC5kkL4yxzLp9OBckA0+HH2l2VoGC8nXVUBoiDg/dSL3wA+bHnbT1ksiAFBKAxqWw2KmWeP0b7vIGSksgTw1DmeCPpmL3HrKf8/gCy/8Z1bW2P/cJlDJ+yOhizHIZWIQaWlkUkl8fCaY3n+tXci8WNpshha6Zd16EzdLqWmqUtaL5dneZ5Ps3EmEQ1fzmYy8+Xhv8m45sCv7ji9AAAAAElFTkSuQmCC","signature_text":"Neil
                      Simonis VM","signature_font":"PWSignature2"}'
                    formData:
                      billingTypologyCode: INDIVIDUAL
                      countryCode: US
                      tin: 996-46-4574
                      foreignTin: 
                      companyTin: 
                      legalEntityName: 
                      businessName: 
                      firstName: Libbie
                      lastName: McCullough
                      bornOn: '2003-10-22'
                      phone: "+15417544860"
                      email: quintin@example.org
                      billingAddress: 84181 Vicente Knoll
                      billingCity: North Dallasmouth
                      billingPostalCode: '90075'
                      billingCountrySub: MS
                      billingCountryCode: US
                      shipmentRequired: false
                      shipmentAddress: "+916988991605"
                      shipmentCity: Schoenhaven
                      shipmentPostalCode: 48358-5805
                      shipmentCountrySub: NV
                      shipmentCountryCode: US
                      withheldModeCode: WW_15
                      signatureBase64: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJNSURBVDiNhZNdSFNhHMafo5PNnc2zTaenMdO5TdMKC4NlCCsIAoWunBcJIbsIglUXRV2UV13FGFlUIF30MbqKghiF7EYCozBmZW2gbXnWark2z9x0ntM+zulGZVubPZcPz/N73//7AVSXSqFqDAJo3SFTXbTB7LnyZEqgOzrfASCq5WormZSWHrbaxs5aR8bkZAOliSz4C5lVdgYSyREIQuR/i2vMff2hRyFedDM50c3kxN5jg5G6evIC2WxMSVW6kztvvcP0yjkdELbKbiYnOqcDIqXvWj1+a0mk2g4EAVBb+ZrisrpZP2odsR+mDeaSmZ/fvYn99vtUTZ0UPacnDPIW44NKgEZtW9v1oTMX1cXleITByjrAJaMAAOWuzhq10WLB5u1sA2iD2XXq6o32WDhUMlJy+ScImRopZm7bU+j3KADoigHSJn37UZ/XQ+Sz2RLA7p5eCCtBELUSsItvIAp5xHyeOIBPxQCTua+fTMai0HftLQHISAVsjnMgVvzILHjhv2cTudi32wB4AJBs5jQqbYssEWFQSd2WAYxbBrCxlsJX31vizvlRtvwQQ8znuXShkEchn6sIAQC5kkL4yxzLp9OBckA0+HH2l2VoGC8nXVUBoiDg/dSL3wA+bHnbT1ksiAFBKAxqWw2KmWeP0b7vIGSksgTw1DmeCPpmL3HrKf8/gCy/8Z1bW2P/cJlDJ+yOhizHIZWIQaWlkUkl8fCaY3n+tXci8WNpshha6Zd16EzdLqWmqUtaL5dneZ5Ps3EmEQ1fzmYy8+Xhv8m45sCv7ji9AAAAAElFTkSuQmCC
                      signatureText: Neil Simonis VM
                      signatureFont: PWSignature2
                    formDataValid: false
                    formDataErrors:
                      email:
                      - 'Email : il formato non Ã¨ valido'
                      firstName:
                      - Nome deve essere presente
                  links:
                    downloadLink: 
        '401':
          description: not authorized
          content:
            application/json:
              example:
                errors:
                - title: Autenticazione fallita
                  detail: Autenticazione fallita con la chiave di autorizzazione fornita
                  type: bill:tax_document:update_chainer:auth_failed
                  status: 401
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: authentication error summary
                        detail:
                          type: string
                          nullable: true
                          description: authentication error description
                        type:
                          type: string
                          description: URN representation of error (the last item
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '422':
          description: generic error validation
          content:
            application/json:
              example:
                errors:
                - title: year
                  detail: Year deve essere presente
                  type: bill/tax_document/validate:year:blank
                  status: 422
                  instance: 
                - title: year
                  detail: Year non Ã¨ un numero
                  type: bill/tax_document/validate:year:not_a_number
                  status: 422
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
        '500':
          description: Unexpected error
          content:
            application/json:
              example:
                errors:
                - title: Errore inatteso
                  detail: An internal error description...
                  type: bill:tax_document:update_chainer:unexpected_error
                  status: 500
                  instance: 
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      properties:
                        title:
                          type: string
                          description: error summary
                        detail:
                          type: string
                          nullable: true
                          description: error description (may includes internal details)
                        type:
                          type: string
                          description: URN representation of error (the last 2 items
                            may be useful for client)
                        status:
                          type: integer
                          format: int32
                          description: HTTP error status
                        instance:
                          type: string
                          nullable: true
                          description: actually unused
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                taxDocument:
                  type: object
                  properties:
                    taxDocumentTypeCode:
                      type: string
                      nullable: false
                      enum:
                      - W-9
                      - W-8BEN
                      description: TaxDocumentType code
                    year:
                      type: integer
                      format: int32
                      nullable: false
                      description: document year
                    formData:
                      type: object
                      properties:
                        billingTypologyCode:
                          type: string
                          nullable: false
                          enum:
                          - INDIVIDUAL
                          - COMPANY
                        countryCode:
                          type: string
                          nullable: false
                          format: ISO 3166-1 alpha-2
                        tin:
                          type: string
                          nullable: false
                          description: U.S. Taxpayer Identification Number (TIN)
                        foreignTin:
                          type: string
                          nullable: true
                          description: "Foreign Tax Identification Number \U0001F310"
                        companyTin:
                          type: string
                          nullable: true
                          description: "foreign VAT Number \U0001F310"
                        legalEntityName:
                          type: string
                          nullable: false
                          description: "Legal entity name \U0001F3E2"
                        businessName:
                          type: string
                          nullable: true
                          description: "Business Name / DBA \U0001F3E2"
                        firstName:
                          type: string
                          nullable: false
                          description: "First name \U0001F9D1â"
                        lastName:
                          type: string
                          nullable: false
                          description: "Last name \U0001F9D1"
                        bornOn:
                          type: string
                          nullable: false
                          format: date
                          description: "Date of birth \U0001F9D1"
                        phone:
                          type: string
                          nullable: true
                          format: E.164
                        email:
                          type: string
                          nullable: false
                        billingAddress:
                          type: string
                          nullable: false
                        billingCity:
                          type: string
                          nullable: false
                        billingPostalCode:
                          type: string
                          nullable: false
                        billingCountrySub:
                          type: string
                          format: ISO 3166-2
                          nullable: true
                          description: 'country subdivision code: state, province,
                            region, zone...'
                        billingCountryCode:
                          type: string
                          nullable: false
                          format: ISO 3166-1 alpha-2
                        shipmentRequired:
                          type: boolean
                          description: when true the shipment_* prefixed attributes
                            must provided
                        shipmentAddress:
                          type: string
                          nullable: true
                        shipmentCity:
                          type: string
                          nullable: true
                        shipmentPostalCode:
                          type: string
                          nullable: true
                        shipmentCountrySub:
                          type: string
                          format: ISO 3166-2
                          nullable: true
                          description: 'country subdivision code: state, province,
                            region, zone...'
                        shipmentCountryCode:
                          type: string
                          nullable: true
                          format: ISO 3166-1 alpha-2
                        withheldModeCode:
                          type: string
                          nullable: false
                          enum:
                          - NONE
                          - SIMPLE
                          - SENIOR_35
                          - JUNIOR_35
                          - AUTO
                          - WW_JUNIOR_35
                          - WW_SENIOR_35
                          - WW_4
                          - WW_8
                          - WW_10
                          - WW_15
                          - WW_0
                          - WW_5
                          - WW_12
                          - WW_30
                          - INDIVIDUAL
                          - WW_12_5
                          - WW_20
                        signatureBase64:
                          type: string
                          nullable: true
                          format: base64
                          description: base64 picture of signature
                        signatureText:
                          type: string
                          nullable: true
                          description: text for generate signature
                        signatureFont:
                          type: string
                          nullable: true
                          description: font for generate signature
                  required:
                  - taxDocumentTypeCode
                  - year
servers:
- url: http://localhost:3000/api
  description: Local development server (uses fake data)
- url: http://staging-wolf.sbfn.in/api
  description: Staging VPN server (uses testing data)
- url: https://api-gw-staging.streetlib.com/public/bill
  description: Staging Gateway server (uses testing data)
components:
  parameters:
    auth_param:
      type: string
      required: true
      name: X-Internal-Auth
      in: header
      description: internal authentication key
  schemas:
    country_codes:
      type: string
      enum:
      - SH
      - AD
      - AE
      - AF
      - AG
      - AI
      - AL
      - AM
      - BQ
      - AO
      - AQ
      - AR
      - AS
      - AT
      - AU
      - AW
      - AX
      - AZ
      - BA
      - BB
      - BD
      - BE
      - BF
      - BG
      - BH
      - BI
      - BJ
      - BM
      - BN
      - BO
      - BR
      - BS
      - BT
      - BV
      - BW
      - BY
      - BZ
      - CA
      - CC
      - CD
      - CF
      - CG
      - CH
      - CI
      - CK
      - CL
      - CM
      - CN
      - CO
      - CR
      - CU
      - CV
      - CX
      - CY
      - CZ
      - DE
      - DJ
      - DK
      - DM
      - DO
      - DZ
      - EC
      - EE
      - EG
      - ER
      - ES
      - ET
      - FI
      - FJ
      - FK
      - FM
      - FO
      - FR
      - GA
      - GB
      - GD
      - GE
      - GF
      - GG
      - GH
      - GI
      - GL
      - GM
      - GN
      - GP
      - GQ
      - GR
      - GS
      - GT
      - GU
      - GW
      - GY
      - HK
      - HM
      - HN
      - HR
      - HT
      - HU
      - ID
      - IE
      - IL
      - IM
      - IN
      - IO
      - IQ
      - IR
      - IS
      - IT
      - JE
      - JM
      - JO
      - JP
      - KE
      - KG
      - KH
      - KI
      - KM
      - KN
      - KP
      - KR
      - KW
      - KY
      - KZ
      - LA
      - LB
      - LC
      - LI
      - LK
      - LR
      - LS
      - LT
      - LU
      - LV
      - LY
      - MA
      - MC
      - MD
      - ME
      - MG
      - MH
      - MK
      - ML
      - MM
      - MN
      - MO
      - MP
      - MQ
      - MR
      - MS
      - MT
      - MU
      - MV
      - MW
      - MX
      - MY
      - MZ
      - NA
      - NC
      - NE
      - NF
      - NG
      - NI
      - NL
      - 'NO'
      - NP
      - NR
      - NU
      - NZ
      - OM
      - PA
      - PE
      - PF
      - PG
      - PH
      - PK
      - PL
      - PM
      - PN
      - PR
      - PT
      - PW
      - PY
      - QA
      - RE
      - RO
      - RS
      - RU
      - RW
      - SA
      - SB
      - SC
      - SD
      - SE
      - SG
      - SH
      - SI
      - SJ
      - SK
      - SL
      - SM
      - SN
      - SO
      - SR
      - ST
      - SV
      - SY
      - SZ
      - SH
      - TC
      - TD
      - TF
      - TG
      - TH
      - TJ
      - TK
      - TL
      - TM
      - TN
      - TO
      - TR
      - TT
      - TV
      - TW
      - TZ
      - UA
      - UG
      - UM
      - US
      - UY
      - UZ
      - VA
      - VC
      - VE
      - VG
      - VI
      - VN
      - VU
      - WF
      - WS
      - YE
      - YT
      - ZA
      - ZM
      - ZW
      - PS
    platform_dash_codes:
      type: string
      enum:
      - PUBLISH
      - SELL
      - PRINT
      - STORES
      - MARKET
      - WRITE
    currency_codes:
      type: string
      enum:
      - EUR
      - USD
      - BRL
      - MXN
      - JPY
      - NZD
      - DKK
      - NOK
      - SEK
      - AUD
      - GBP
      - CHF
      - CAD
      - TRY
      - AED
      - AFN
      - ALL
      - AMD
      - ANG
      - AOA
      - ARS
      - AWG
      - AZN
      - BAM
      - BBD
      - BDT
      - BGN
      - BHD
      - BIF
      - BMD
      - BND
      - BOB
      - BSD
      - BTN
      - BWP
      - BYR
      - BZD
      - CDF
      - CLP
      - CNY
      - COP
      - CRC
      - CUC
      - CUP
      - CVE
      - CYP
      - CZK
      - DJF
      - DOP
      - DZD
      - EEK
      - EGP
      - ERN
      - ETB
      - FJD
      - FKP
      - GEL
      - GGP
      - GHC
      - GIP
      - GMD
      - GNF
      - GTQ
      - GYD
      - HKD
      - HNL
      - HRK
      - HTG
      - HUF
      - IDR
      - ILS
      - IMP
      - INR
      - IQD
      - IRR
      - ISK
      - JEP
      - JMD
      - JOD
      - KES
      - KGS
      - KHR
      - KMF
      - KPW
      - KRW
      - KWD
      - KYD
      - KZT
      - LAK
      - LBP
      - LKR
      - LRD
      - LSL
      - LTL
      - LVL
      - LYD
      - MAD
      - MDL
      - MGA
      - MKD
      - MMK
      - MNT
      - MOP
      - MRO
      - MTL
      - MUR
      - MVR
      - MWK
      - MYR
      - MZN
      - NAD
      - NGN
      - NIO
      - NPR
      - OMR
      - PAB
      - PEN
      - PGK
      - PHP
      - PKR
      - PLN
      - PYG
      - QAR
      - ROL
      - RON
      - RSD
      - RUB
      - RWF
      - SAR
      - SBD
      - SCR
      - SDG
      - SGD
      - SHP
      - SLL
      - SOS
      - SRD
      - STD
      - SVC
      - SYP
      - SZL
      - THB
      - TJS
      - TMM
      - TND
      - TOP
      - TTD
      - TVD
      - TWD
      - TZS
      - UAH
      - UGX
      - UYU
      - UZS
      - VEB
      - VND
      - VUV
      - WST
      - XAF
      - XCD
      - XOF
      - XPD
      - XPF
      - XPT
      - YER
      - ZAR
      - ZMK
      - ZWD
      - ZWL
      - BOV
      - CHE
      - CHW
      - CLF
      - COU
      - MXV
      - USN
      - USS
      - XAG
      - XAU
      - XBA
      - XBB
      - XBC
      - XBD
      - XDR
      - XTS
      - XXX
      - GHS
    company_codes:
      type: string
      enum:
      - SL_IT
      - SL_US
    invoice_statuses:
      type: string
      enum:
      - DRAFT
      - APPROVED
      - PAID
    invoice_type_codes:
      type: string
      enum:
      - PASSIVE
      - ACTIVE
    invoice_typology_codes:
      type: string
      enum:
      - PASSIVE
      - ACTIVE
    sectional_type_codes:
      type: string
      enum:
      - REV
      - REV_US
      - PRINT
      - STORES
      - WOLF
      - US
      - MARKET
      - STORES_NOT_IT
      - PRINT_NOT_IT
      - WRITE
      - WRITE_NOT_IT
    receivable_vat_mode_extcodes:
      type: string
      enum:
      - '22'
      - '22'
      - '22'
      - '147'
      - '148'
      - '149'
    field_country_sub:
      type: string
      nullable: true
      description: Acronym of province, region or state
    field_country_code:
      ype: string
      nullable: true
      description: country code ISO 3166-2
    field_personal_tin:
      type: string
      nullable: true
      description: personal's Taxpayer Identification Number
    field_company_tin:
      type: string
      nullable: true
      description: company's Taxpayer Identification Number
